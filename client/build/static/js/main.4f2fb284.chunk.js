(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{39:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),r=n(32),s=n.n(r),i=(n(39),n(3)),l=n(18);n(40),n(65),n(66);l.a.initializeApp({apiKey:"AIzaSyDI8yMpQ9nCJSPxGAz8-8t7vvTITHTKZ-c",authDomain:"recipe-app-9db22.firebaseapp.com",projectId:"recipe-app-9db22",storageBucket:"recipe-app-9db22.appspot.com",messagingSenderId:"147967816284",appId:"1:147967816284:web:91997fccb8f35252eb2c99"});var o=l.a.auth(),d=l.a.firestore(),u=l.a.storage(),j=n(0),b=Object(a.createContext)(),x=function(){return Object(a.useContext)(b)},m=function(e){var t=e.children,n=Object(a.useState)(!0),c=Object(i.a)(n,2),r=c[0],s=c[1],l=Object(a.useState)(null),d=Object(i.a)(l,2),u=d[0],x=d[1];Object(a.useEffect)((function(){return o.onAuthStateChanged((function(e){x(e),s(!1)}))}),[]);var m={createAccount:function(e){var t=e.name,n=e.email,a=e.password;return o.createUserWithEmailAndPassword(n,a).then((function(e){return e.user.updateProfile({displayName:t})}))},deleteAccount:function(){return u.delete()},loading:r,login:function(e,t){return o.signInWithEmailAndPassword(e,t)},logout:function(){return o.signOut()},resetPassword:function(e){return o.sendPasswordResetEmail(e)},updateEmail:function(e){return u.updateEmail(e)},updatePassword:function(e){return u.updatePassword(e)},updatePhoto:function(e){return u.updateProfile({photoURL:e})},updateProfile:function(e){return u.updateProfile({displayName:e})},user:u};return Object(j.jsx)(b.Provider,{value:m,children:t})},p=function(){return Object(j.jsx)("footer",{className:"text-gray-600 bg-gray-100",children:Object(j.jsxs)("div",{className:"container px-5 py-6 mx-auto flex items-center justify-between",children:[Object(j.jsxs)("span",{className:"text-sm tracking-wider",children:["\xa9 ",(new Date).getFullYear()," Recipebox"]}),Object(j.jsx)("a",{href:"https://github.com/sofialing","aria-label":"Go to GitHub-page.",children:Object(j.jsx)("svg",{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"w-6 h-6",children:Object(j.jsx)("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})})})]})})},h=n(6),f=function(){return Object(j.jsx)("div",{className:"fixed shadow-lg -inset-x-0 bottom-0  bg-gray-100 text-gray-700 px-5 py-4 border-t border-gray-300 md:hidden",children:Object(j.jsxs)("ul",{className:"flex justify-between items-center h-full text-center text-xs uppercase tracking-wider font-medium",children:[Object(j.jsx)("li",{className:"flex-1",children:Object(j.jsxs)(h.c,{to:"/add-recipe",className:"flex flex-col items-center safe-bottom",children:[Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mb-2 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(j.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),Object(j.jsx)("span",{children:"New Recipe"})]})}),Object(j.jsx)("li",{className:"flex-1",children:Object(j.jsxs)(h.c,{to:"/recipes",className:"flex flex-col items-center safe-bottom",children:[Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mb-2 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(j.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),Object(j.jsx)("span",{children:"All Recipes"})]})}),Object(j.jsx)("li",{className:"flex-1",children:Object(j.jsxs)(h.c,{to:"/meal-planner",className:"flex flex-col items-center safe-bottom",children:[Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mb-2 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(j.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),Object(j.jsx)("span",{children:"Meal Plan"})]})})]})})},O=n.p+"static/media/logo-wordmark-dark.4e247453.svg",g=function(){return Object(j.jsxs)("div",{className:"flex-1 flex",children:[Object(j.jsx)("div",{className:"flex-shrink-0 flex items-center",children:Object(j.jsx)(h.b,{to:"/",children:Object(j.jsx)("img",{className:"h-8 w-auto",src:O,alt:"RecipeHacker",height:"32",width:"158"})})}),Object(j.jsx)("div",{className:"hidden md:block md:ml-auto",children:Object(j.jsxs)("div",{className:"flex space-x-4",children:[Object(j.jsx)(h.c,{to:"/",className:"navlink",end:!0,children:"Home"}),Object(j.jsx)(h.c,{to:"/add-recipe",className:"navlink",children:"New Recipe"}),Object(j.jsx)(h.c,{to:"/recipes",className:"navlink",children:"Recipe Collection"}),Object(j.jsx)(h.c,{to:"/meal-planner",className:"navlink",children:"Meal Plan"})]})})]})},v=function(e){var t=e.toggleDropdown,n=e.setToggleDropdown,a=x(),c=a.user,r=a.logout;return Object(j.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center md:static md:inset-auto md:ml-8 md:pr-0",children:Object(j.jsxs)("div",{className:"relative",children:[Object(j.jsxs)("button",{type:"button",disabled:!c,className:"bg-gray-200 border border-white flex text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-500 focus:ring-white",id:"user-menu-button","aria-expanded":t,"aria-haspopup":"true",onClick:function(){n((function(e){return!e}))},children:[Object(j.jsx)("span",{className:"sr-only",children:"Open user menu"}),(null===c||void 0===c?void 0:c.photoURL)?Object(j.jsx)("img",{className:"h-8 w-8 rounded-full",src:c.photoURL,alt:""}):Object(j.jsx)("svg",{className:"h-8 w-8 rounded-full text-green-500",fill:"currentColor",viewBox:"0 0 24 24",children:Object(j.jsx)("path",{d:"M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"})})]}),Object(j.jsxs)("div",{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none ".concat(t?"is-open":"is-closed"),role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",tabIndex:"-1",children:[Object(j.jsx)(h.c,{to:"/account",className:"block px-4 py-2 text-sm text-gray-700",role:"menuitem",tabIndex:"-1",id:"user-menu-item-0",onClick:function(){return n(!1)},children:"Your profile"}),Object(j.jsx)("button",{onClick:function(){r(),n(!1)},className:"block px-4 py-2 text-sm text-gray-700 focus:outline-none",role:"menuitem",tabIndex:"-1",id:"user-menu-item-1",children:"Sign out"})]})]})})},w=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(j.jsxs)("nav",{className:"bg-white shadow-sm sticky top-0 z-30",children:[Object(j.jsx)("div",{className:"container mx-auto px-5",children:Object(j.jsxs)("div",{className:"relative flex items-center justify-between h-16",children:[Object(j.jsx)(g,{}),Object(j.jsx)(v,{toggleDropdown:n,setToggleDropdown:c})]})}),Object(j.jsx)(f,{})]})},y=n(7),N=n(10),k=function(e){return x().user?Object(j.jsx)(y.b,Object(N.a)({},e)):Object(j.jsx)(y.a,{to:"/login"})},S=n.p+"static/media/main-hero.24b64013.jpg",C=function(){var e=x(),t=e.user,n=e.logout;return Object(j.jsxs)("section",{className:"container mx-auto flex-grow flex flex-col-reverse lg:flex-row items-center px-5 py-16 md:py-24",children:[Object(j.jsxs)("div",{className:"lg:flex-grow lg:w-1/2 lg:pr-24 flex flex-col lg:items-start lg:text-left items-center text-center",children:[Object(j.jsxs)("h1",{className:"text-3xl sm:text-4xl mb-4 font-medium text-gray-900 dark:text-white",children:["All your favorite",Object(j.jsx)("br",{className:"hidden lg:inline-block"})," recipes in one place"]}),Object(j.jsx)("p",{className:"mb-8 leading-relaxed",children:"CookBook is your very own personal recipe organiser. Save your favourite recipes from websites, magazines, recipe books or simply those from your head, all in one place, accessible on all of your devices, anytime."}),t?Object(j.jsxs)("div",{className:"flex justify-center",children:[Object(j.jsx)(h.b,{to:"add-recipe",className:"btn inline-flex",children:"Add recipe"}),Object(j.jsx)("button",{className:"btn btn-outline ml-4 inline-flex",onClick:function(){return n()},children:"Log out"})]}):Object(j.jsxs)("div",{className:"flex justify-center",children:[Object(j.jsx)(h.b,{to:"create-account",className:"btn inline-flex",children:"Create account"}),Object(j.jsx)(h.b,{to:"login",className:"btn btn-outline ml-4 inline-flex ",children:"Log in"})]})]}),Object(j.jsx)("figure",{className:"mb-12 lg:mb-0 lg:w-1/2",children:Object(j.jsx)("img",{alt:"Vegan meal",width:"640",height:"427",src:S})})]})},M=n(8),R=n.n(M),F=n(9),T=n.p+"static/media/login-hero.3728ec44.jpg",D=function(e){var t=e.type,n=e.id,a=e.value,c=e.handleChange,r=e.isRequired,s=e.autoComplete,i=void 0===s?"on":s;return Object(j.jsx)("input",{type:t,id:n,className:"w-full bg-white rounded border border-gray-300 focus:border-green-500  text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out",autoComplete:i,value:a,required:r,onChange:function(e){return c(e.target.value)}})},L=function(e){var t=e.text,n=e.htmlFor,a=e.required,c=void 0!==a&&a;return Object(j.jsxs)("label",{className:"leading-7 block tracking-widest text-xs font-medium uppercase text-green-500 mb-1",htmlFor:n,children:[t,c&&Object(j.jsx)("sup",{className:"text-red-500",title:"Required",children:"*"})]})},A=function(e){var t=e.onLogin,n=e.loading,c=e.error,r=Object(a.useState)(""),s=Object(i.a)(r,2),l=s[0],o=s[1],d=Object(a.useState)(""),u=Object(i.a)(d,2),b=u[0],x=u[1];return Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(l,b)},className:"w-full lg:w-2/6 flex flex-col md:mr-auto",children:[Object(j.jsx)("h2",{className:"text-gray-900 text-2xl font-medium mb-5",children:"Log in to your account"}),Object(j.jsxs)("div",{className:"mb-4",children:[Object(j.jsx)(L,{htmlFor:"email",text:"Email"}),Object(j.jsx)(D,{type:"email",id:"email",value:l,handleChange:o,isRequired:!0})]}),Object(j.jsxs)("div",{className:"mb-6",children:[Object(j.jsx)(L,{htmlFor:"password",text:"Password"}),Object(j.jsx)(D,{type:"password",id:"password",value:b,handleChange:x,isRequired:!0})]}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{type:"submit",disabled:n,className:"btn inline-block",children:"Log in"})}),Object(j.jsxs)("p",{className:"text-base md:text-sm tracking-wide mt-6",children:["New to Recipebox? ",Object(j.jsx)(h.b,{className:"hover:underline text-green-500",to:"/create-account",children:"Sign up"}),"."]}),c&&Object(j.jsx)("p",{className:"text-xs text-red-500 mt-3",children:c})]})},P=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(null),s=Object(i.a)(r,2),l=s[0],o=s[1],d=x().login,u=Object(y.h)(),b=function(){var e=Object(F.a)(R.a.mark((function e(t,n){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length&&n.length){e.next=2;break}return e.abrupt("return",o("Make sure you have entered both a valid email and a password."));case 2:return o(null),c(!0),e.prev=4,e.next=7,d(t,n);case 7:u("/recipes"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(4),o(e.t0.message),c(!1);case 14:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(j.jsxs)("section",{className:"container mx-auto flex-grow flex flex-col-reverse lg:flex-row items-center px-5 py-16 md:py-24",children:[Object(j.jsx)(A,{onLogin:b,loading:n,error:l}),Object(j.jsx)("div",{className:"mb-12 lg:mb-0 lg:w-1/2",children:Object(j.jsx)("img",{width:"640",height:"427",alt:"",src:T})})]})},z=function(e){var t=e.onCreateAccount,n=e.loading,c=e.error,r=Object(a.useState)(""),s=Object(i.a)(r,2),l=s[0],o=s[1],d=Object(a.useState)(""),u=Object(i.a)(d,2),b=u[0],x=u[1],m=Object(a.useState)(""),p=Object(i.a)(m,2),f=p[0],O=p[1],g=Object(a.useState)(""),v=Object(i.a)(g,2),w=v[0],y=v[1];return Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({name:l,email:b,password:f,confirm:w})},className:"w-full lg:w-2/6 flex flex-col md:mr-auto",children:[Object(j.jsx)("h2",{className:"text-gray-900 text-2xl font-medium mb-5",children:"Sign up for free"}),Object(j.jsxs)("div",{className:"mb-4",children:[Object(j.jsx)(L,{htmlFor:"full-name",text:"Full Name",required:!0}),Object(j.jsx)(D,{type:"text",id:"full-name",value:l,isRequired:!0,handleChange:o})]}),Object(j.jsxs)("div",{className:"mb-4",children:[Object(j.jsx)(L,{htmlFor:"email",text:"Email",required:!0}),Object(j.jsx)(D,{type:"email",id:"email",value:b,isRequired:!0,handleChange:x})]}),Object(j.jsxs)("div",{className:"mb-4",children:[Object(j.jsx)(L,{htmlFor:"password",text:"Password",required:!0}),Object(j.jsx)(D,{type:"password",id:"password",value:f,isRequired:!0,handleChange:O,autoComplete:"new-password"})]}),Object(j.jsxs)("div",{className:"mb-6",children:[Object(j.jsx)(L,{htmlFor:"confirm",text:"Confirm password",required:!0}),Object(j.jsx)(D,{type:"password",id:"confirm",value:w,isRequired:!0,handleChange:y,autoComplete:"new-password"})]}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{type:"submit",disabled:n,className:"btn inline-block",children:"Create free account"})}),Object(j.jsxs)("p",{className:"text-base md:text-sm tracking-wide mt-6",children:["Already have an account? ",Object(j.jsx)(h.b,{className:"hover:underline text-green-500",to:"/login",children:"Log in"}),"."]}),c&&Object(j.jsx)("p",{className:"text-sm text-red-500 mt-3",children:c})]})},q=function(){var e=Object(y.h)(),t=x().createAccount,n=Object(a.useState)(!1),c=Object(i.a)(n,2),r=c[0],s=c[1],l=Object(a.useState)(null),o=Object(i.a)(l,2),d=o[0],u=o[1],b=function(){var n=Object(F.a)(R.a.mark((function n(a){return R.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.password===a.confirm){n.next=2;break}return n.abrupt("return",u("Passwords do not match, please try again."));case 2:return u(null),n.prev=3,s(!0),n.next=7,t(a);case 7:e("/recipes"),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(3),s(!1),u(n.t0.message);case 14:case"end":return n.stop()}}),n,null,[[3,10]])})));return function(e){return n.apply(this,arguments)}}();return Object(j.jsxs)("section",{className:"container mx-auto flex-grow flex flex-col-reverse lg:flex-row items-center px-5 py-16 md:py-24",children:[Object(j.jsx)(z,{onCreateAccount:b,loading:r,error:d}),Object(j.jsx)("div",{className:"mb-12 lg:mb-0 lg:w-1/2",children:Object(j.jsx)("img",{width:"640",height:"427",alt:"hero",src:T})})]})},B=n(21),E=n(33),I=n.n(E),V=function(e,t,n){return d.collection("meal-plans").doc(e).update({recipes:(a=Object(N.a)(Object(N.a)({},t),{},{id:Object(B.a)(16),date:n}),l.a.firestore.FieldValue.arrayUnion(a))});var a},W=function(e,t){return d.collection("meal-plans").where("ownerId","==",t).get().then((function(t){t.docs[0].ref.update({recipes:e})}))},H=function(e){return u.ref("avatars/".concat(e.name)).put(e).then(function(){var e=Object(F.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.ref.getDownloadURL();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},U=function(e,t){var n=Object(a.useState)(!1),c=Object(i.a)(n,2),r=c[0],s=c[1],l=Object(a.useState)(!0),o=Object(i.a)(l,2),u=o[0],j=o[1],b=Object(a.useState)([]),m=Object(i.a)(b,2),p=m[0],h=m[1],f=x().user;return Object(a.useEffect)((function(){var e,t;return e=f.uid,t={next:function(e){j(!0);var t=[];e.forEach((function(e){t.push(Object(N.a)({id:e.id},e.data()))})),h(t),j(!1)},error:function(e){console.log(e.message),s(e.message),j(!1)}},d.collection("recipes").where("ownerId","==",e).orderBy("title").onSnapshot(t)}),[f.uid]),{recipes:p,loading:u,error:r,setRecipes:h}},G=function(){return Object(j.jsx)("div",{className:"flex flex-col text-center w-full",children:Object(j.jsxs)("div",{className:"spinner mx-auto",role:"status","aria-label":"Page is loading, do not refresh",children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{})]})})},Y=n(17),J=n.n(Y),K=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(J()().format("YYYY-MM-DD")),s=Object(i.a)(r,2),l=s[0],o=s[1],u=x().user,j=Object(y.h)();return{showDateModal:n,setShowDateModal:c,date:l,setDate:o,onAddToMealPlan:function(){var e=Object(F.a)(R.a.mark((function e(t){var n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=2;break}return e.abrupt("return");case 2:return e.prev=3,e.next=6,a=u.uid,d.collection("meal-plans").where("ownerId","==",a).get();case 6:if(!(n=e.sent).empty){e.next=10;break}return console.log("Could not find user meal plan."),e.abrupt("return");case 10:return e.next=12,V(n.docs[0].id,t,l);case 12:j("/meal-planner"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),console.error("Error updating document: ",e.t0);case 18:case"end":return e.stop()}var a}),e,null,[[3,15]])})));return function(t){return e.apply(this,arguments)}}()}},X=n.p+"static/media/image-missing.c862008b.jpg",_=function(e){var t=e.recipe,n=e.setShowDateModal,a=e.setSelectedRecipe;return Object(j.jsx)("div",{className:"p-4 w-full md:w-1/2 lg:w-1/3 xl:w-1/4",children:Object(j.jsxs)("div",{className:"h-full flex flex-col border border-gray-200 rounded-xl shadow-sm overflow-hidden",children:[Object(j.jsx)("img",{className:"h-60 w-full object-cover object-center",src:t.image?t.image:X,alt:t.title}),Object(j.jsxs)("div",{className:"p-6 flex-grow flex flex-col",children:[Object(j.jsxs)("h3",{className:"tracking-widest text-xs font-medium uppercase text-gray-400 mb-1",children:[t.recipeType," \xb7 ",t.cuisineType]}),Object(j.jsx)("h2",{className:"text-lg font-medium text-gray-900 flex-grow",children:t.title}),Object(j.jsxs)("div",{className:"flex items-center flex-wrap mt-6",children:[Object(j.jsxs)(h.b,{to:t.slug,className:"btn btn-outline btn-sm flex items-center",children:["View recipe",Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"ml-2 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:Object(j.jsx)("path",{fillRule:"evenodd",d:"M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),Object(j.jsx)("button",{onClick:function(){a(t),n(!0)},className:"text-gray-400 ml-auto hover:text-green-500 focus:outline-none",children:Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",title:"Add to meal planner","aria-label":"Add to meal plan",children:Object(j.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})]})]})})},Q=function(e){var t=e.children,n=e.showModal,a=e.setShowModal;return n&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none px-5 lg:px-24",children:Object(j.jsx)("div",{className:"relative w-full my-6 mx-auto max-w-6xl",children:Object(j.jsxs)("div",{className:"border-0 rounded-lg shadow-lg p-8 relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[Object(j.jsx)("button",{"aria-label":"Close modal",title:"Close modal",className:"absolute rounded-full z-50 p-2 bg-gray-700 text-white right-4 top-4",onClick:function(){return a((function(e){return!e}))},children:Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(j.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),t]})})}),Object(j.jsx)("div",{className:"fixed inset-0 z-40 bg-gray-100 bg-opacity-90"})]})},Z=function(e){var t=e.id,n=e.value,a=e.handleChange;return Object(j.jsx)("input",{type:"date",id:t,value:n,className:"w-full bg-white rounded border border-gray-300 focus:border-green-500 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out",onChange:function(e){return a(e.target.value)}})},$=function(e){var t=e.recipes,n=Object(a.useState)(null),c=Object(i.a)(n,2),r=c[0],s=c[1],l=K(),o=l.showDateModal,d=l.setShowDateModal,u=l.date,b=l.setDate,x=l.onAddToMealPlan;return t.length?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"flex flex-wrap -m-4",children:t.map((function(e){return Object(j.jsx)(_,{recipe:e,setSelectedRecipe:s,setShowDateModal:d},e.id)}))}),Object(j.jsx)(Q,{showModal:o,setShowModal:d,children:Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),x(r)},children:[Object(j.jsx)("h2",{className:"text-gray-900 text-xl mb-4 mr-24 font-medium",children:"Add recipe to meal plan"}),Object(j.jsxs)("div",{className:"relative mb-4",children:[Object(j.jsx)(L,{htmlFor:"date",text:"Pick a date"}),Object(j.jsx)(Z,{id:"date",value:u,handleChange:b})]}),Object(j.jsx)("button",{type:"submit",className:"btn inline-block",children:"Add"})]})})]}):Object(j.jsx)("div",{className:"text-center mt-28",children:Object(j.jsx)("p",{children:"No recipes to display."})})},ee=function(e){var t=e.options,n=e.value,a=e.id,c=e.onChange,r=e.defaultValue,s=void 0===r?"":r;return Object(j.jsxs)("div",{className:"relative",children:[Object(j.jsxs)("select",{className:"block appearance-none w-full bg-white border border-gray-300 text-gray-700 py-3 px-4 pr-8 rounded tracking-wide leading-tight focus:outline-none  focus:border-green-500",id:a,value:n,onChange:function(e){return c(e.target.value)},children:[Object(j.jsx)("option",{value:"",children:s}),t.map((function(e){return Object(j.jsx)("option",{value:e.option,children:e.option},e.value)}))]}),Object(j.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-green-500",children:Object(j.jsx)("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(j.jsx)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})},te=[{value:"bread",option:"Bread"},{value:"breakfast-brunch",option:"Breakfast & Brunch"},{value:"dinner",option:"Dinner"},{value:"dessert",option:"Dessert"},{value:"drink",option:"Drink"},{value:"lunch",option:"Lunch"},{value:"snacks-appetizer",option:"Snacks & Appetizer"}],ne=[{value:"asian-food",option:"Asian Food"},{value:"italian-food",option:"Italian Food"},{value:"nordic-food",option:"Nordic Food"},{value:"thai-food",option:"Thai Food"},{value:"american-food",option:"American Food"},{value:"indian-food",option:"Indian Food"},{value:"mexican-food",option:"Mexican Food"},{value:"greek-food",option:"Greek Food"},{value:"middle-eastern-food",option:"Middle Eastern Food"}],ae=function(e){var t=e.cuisineType,n=e.setcuisineType,a=e.recipeType,c=e.setRecipeType;return Object(j.jsxs)("form",{className:"flex items-end flex-wrap mb-8 -m-4",children:[Object(j.jsxs)("div",{className:"w-full md:w-1/2 lg:w-1/3 xl:w-1/4 px-4 mb-4 md:mb-0",children:[Object(j.jsx)(L,{text:"Recipe type",htmlFor:"recipeType"}),Object(j.jsx)(ee,{options:te,value:a,id:"recipeType",onChange:c,defaultValue:"Select recipe type"})]}),Object(j.jsxs)("div",{className:"w-full md:w-1/2 lg:w-1/3 xl:w-1/4 px-4 mb-5 md:mb-0",children:[Object(j.jsx)(L,{text:"Cuisine type",htmlFor:"cuisineType"}),Object(j.jsx)(ee,{options:ne,value:t,id:"cuisineType",onChange:n,defaultValue:"Select cuisine type"})]}),Object(j.jsx)("div",{className:"px-4",children:Object(j.jsx)("button",{type:"reset",onClick:function(e){e.preventDefault(),c(""),n("")},className:"btn inline-block",children:"Remove filters"})})]})},ce=function(e,t,n){var c=Object(a.useState)([]),r=Object(i.a)(c,2),s=r[0],l=r[1];return Object(a.useEffect)((function(){var a;t.length||n.length?(t.length&&!n.length&&(a=e.filter((function(e){return e.recipeType===t}))),!t.length&&n.length&&(a=e.filter((function(e){return e.cuisineType===n}))),t.length&&n.length&&(a=e.filter((function(e){return e.recipeType===t&&e.cuisineType===n}))),l(a)):l(e)}),[e,t,n]),{filteredRecipes:s}},re=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(i.a)(r,2),l=s[0],o=s[1],d=U(n,l),u=d.loading,b=d.recipes,x=ce(b,l,n).filteredRecipes,m=Object(y.h)();return Object(j.jsxs)("section",{className:"container px-5 py-16 md:py-24 mx-auto",children:[Object(j.jsxs)("header",{className:"flex flex-col text-center w-full mb-16 lg:mb-20",children:[Object(j.jsx)("h2",{className:"text-xs text-green-500 tracking-widest font-medium mb-1 uppercase",children:"Recipe collection"}),Object(j.jsx)("h1",{className:"sm:text-3xl text-2xl font-medium mb-4 text-gray-900",children:"All your recipes in one place"}),Object(j.jsx)("p",{className:"lg:w-2/3 mx-auto leading-relaxed text-base",children:"CookBook is your very own personal recipe organiser. Save your favourite recipes from websites, magazines, recipe books or simply those from your head, all in one place, accessible on all of your devices, anytime."})]}),Object(j.jsx)(ae,{cuisineType:n,recipeType:l,setcuisineType:c,setRecipeType:o}),u?Object(j.jsx)(G,{}):Object(j.jsx)($,{recipes:x}),b.length?Object(j.jsxs)("footer",{className:"text-center mt-24",children:[Object(j.jsx)(h.b,{className:"btn inline-block",to:"/add-recipe",children:"Add Recipe"}),Object(j.jsx)("button",{className:"btn btn-outline inline-block ml-4",onClick:function(){var e=b[Math.floor(Math.random()*b.length)];m(e.slug)},children:"Recipe Roulette"})]}):""]})},se=function(e){var t=e.title;return Object(j.jsx)("nav",{className:"hidden lg:block bg-gray-100",children:Object(j.jsx)("div",{className:"container mx-auto",children:Object(j.jsxs)("ol",{className:"list-reset py-4 pl-4 flex text-xs font-medium tracking-widest uppercase",children:[Object(j.jsx)("li",{className:"pr-2",children:Object(j.jsx)(h.b,{to:"/recipes",className:"no-underline text-gray-900",children:"All recipes"})}),Object(j.jsx)("li",{className:"pr-2 text-gray-500",children:" / "}),Object(j.jsx)("li",{className:"pr-2 text-gray-500",children:t})]})})})},ie=function(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(!0),l=Object(i.a)(s,2),o=l[0],u=l[1],j=Object(a.useState)([]),b=Object(i.a)(j,2),m=b[0],p=b[1],h=x().user;return Object(a.useEffect)((function(){if(e)return function(e,t){return d.collection("recipes").where("slug","==",e).onSnapshot(t)}(e,{next:function(e){u(!0),e.empty||e.docs[0].data().ownerId!==h.uid?r("Oh no! Could not find recipe."):p(Object(N.a)({id:e.docs[0].id},e.docs[0].data())),u(!1)},error:function(){r("Oh no! Something went wrong, try again."),u(!1)}})}),[h.uid,e]),{recipe:m,error:c,loading:o}},le=function(e){var t=e.type,n=e.id,a=e.value,c=e.handleChange,r=e.isRequired,s=e.autoComplete,i=void 0===s?"on":s;return Object(j.jsx)("textarea",{type:t,id:n,className:"w-full bg-white rounded border border-gray-300 focus:border-green-500 text-base outline-none text-gray-700 py-2 px-3 h-24 resize-none leading-6 transition-colors duration-200 ease-in-out",autoComplete:i,value:a,required:r,onChange:function(e){return c(e.target.value)}})},oe=[{value:"bread",option:"Bread"},{value:"breakfast-brunch",option:"Breakfast & Brunch"},{value:"dinner",option:"Dinner"},{value:"dessert",option:"Dessert"},{value:"drink",option:"Drink"},{value:"lunch",option:"Lunch"},{value:"snacks-appetizer",option:"Snacks & Appetizer"}],de=[{value:"asian-food",option:"Asian Food"},{value:"italian-food",option:"Italian Food"},{value:"nordic-food",option:"Nordic Food"},{value:"thai-food",option:"Thai Food"},{value:"american-food",option:"American Food"},{value:"indian-food",option:"Indian Food"},{value:"mexican-food",option:"Mexican Food"},{value:"greek-food",option:"Greek Food"},{value:"middle-eastern-food",option:"Middle Eastern Food"}],ue=function(e){var t=e.recipe,n=e.setShowModal,c=Object(a.useState)(t.title),r=Object(i.a)(c,2),s=r[0],l=r[1],o=Object(a.useState)(t.desc),u=Object(i.a)(o,2),b=u[0],x=u[1],m=Object(a.useState)(t.recipeType),p=Object(i.a)(m,2),h=p[0],f=p[1],O=Object(a.useState)(t.cuisineType),g=Object(i.a)(O,2),v=g[0],w=g[1],y=function(){var e=Object(F.a)(R.a.mark((function e(a){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,c=t.id,r=Object(N.a)(Object(N.a)({},t),{},{title:s,desc:b,recipeType:h,cuisineType:v}),d.collection("recipes").doc(c).update(Object(N.a)({},r));case 4:n(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error("Error updating document: ",e.t0);case 10:case"end":return e.stop()}var c,r}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"flex flex-col md:flex-row-reverse",children:[Object(j.jsx)("div",{className:"hidden md:block md:w-1/2 mb-4 md:mb-0 overflow-hidden",children:Object(j.jsx)("figure",{className:"aspect-w-3 aspect-h-2",children:Object(j.jsx)("img",{className:"object-cover object-center",alt:t.title,src:t.image?t.image:X})})}),Object(j.jsxs)("form",{className:"w-full md:w-1/2 lg:flex-grow md:pr-16",onSubmit:y,children:[Object(j.jsx)("h2",{className:"text-gray-900 text-xl mb-4 font-medium",children:"Edit recipe"}),Object(j.jsxs)("div",{className:"relative mb-4",children:[Object(j.jsx)(L,{htmlFor:"title",text:"Title"}),Object(j.jsx)(D,{type:"text",id:"title",value:s,handleChange:l,isRequired:!0})]}),Object(j.jsxs)("div",{className:"relative mb-4",children:[Object(j.jsx)(L,{htmlFor:"desc",text:"Description"}),Object(j.jsx)(le,{type:"text",id:"desc",value:b,handleChange:x,isRequired:!1})]}),Object(j.jsxs)("div",{className:"mb-6 flex",children:[Object(j.jsxs)("div",{className:"mr-2 flex-1",children:[Object(j.jsx)(L,{htmlFor:"recipeType",text:"Recipe type"}),Object(j.jsx)(ee,{options:oe,value:h,id:"recipeType",onChange:f,defaultValue:"Select recipe type"})]}),Object(j.jsxs)("div",{className:"ml-2 flex-1",children:[Object(j.jsx)(L,{htmlFor:"cuisineType",text:"Cuisine type"}),Object(j.jsx)(ee,{options:de,value:v,id:"cuisineType",onChange:w,defaultValue:"Select cuisine type"})]})]}),Object(j.jsxs)("div",{className:"mt-6",children:[Object(j.jsx)("button",{type:"submit",className:"btn mr-4",children:"Save updates"}),Object(j.jsx)("button",{type:"button",onClick:function(){return n(!1)},className:"inline-block btn btn-outline",children:"Back"})]})]})]})},je=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(y.i)().slug,s=ie(r),l=s.recipe,o=s.loading,u=Object(a.useState)(l.favorite),b=Object(i.a)(u,2),x=b[0],m=b[1],p=Object(y.h)(),h=K(),f=h.showDateModal,O=h.setShowDateModal,g=h.date,v=h.setDate,w=h.onAddToMealPlan,N=function(){var e=Object(F.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t=l.id,d.collection("recipes").doc(t).delete();case 3:p("/recipes"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Error removing document: ",e.t0);case 9:case"end":return e.stop()}var t}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(F.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t=l.id,n=!x,d.collection("recipes").doc(t).update({favorite:n});case 3:m((function(e){return!e})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Error updating document: ",e.t0);case 9:case"end":return e.stop()}var t,n}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return o?Object(j.jsx)("section",{className:"container mx-auto px-5 py-24 flex-grow flex flex-col md:flex-row items-center",children:Object(j.jsx)(G,{})}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(se,{title:l.title}),Object(j.jsxs)("section",{className:"container mx-auto px-5 py-16 md:py-24 flex-grow flex flex-col md:flex-row items-center",children:[Object(j.jsx)("div",{className:"w-full lg:w-1/2 mb-10 lg:mb-0 overflow-hidden",children:Object(j.jsx)("figure",{className:"aspect-w-3 aspect-h-2",children:Object(j.jsx)("img",{className:"object-cover object-center",alt:l.title,src:l.image?l.image:X})})}),Object(j.jsxs)("div",{className:"lg:flex-grow lg:w-1/2 lg:pl-24 flex flex-col lg:items-start lg:text-left items-center text-center",children:[Object(j.jsxs)("h2",{className:"text-xs text-green-500 tracking-widest font-medium title-font mb-1 uppercase",children:[l.recipeType," \xb7 ",l.cuisineType]}),Object(j.jsx)("h1",{className:"text-3xl sm:text-4xl mb-4 font-medium text-gray-900",children:l.title}),Object(j.jsx)("p",{className:"mb-8 leading-relaxed",children:l.desc}),Object(j.jsxs)("div",{className:"flex items-center",children:[Object(j.jsx)("a",{href:l.url,target:"_blank",rel:"noreferrer",className:"inline-flex btn",children:"View recipe"}),Object(j.jsx)("button",{className:"ml-4 inline-flex btn btn-outline",onClick:function(){return O(!0)},children:"Add to meal plan"})]}),Object(j.jsxs)("div",{className:"flex w-full items-center justify-center lg:justify-start mt-8",children:[Object(j.jsx)("button",{className:"mr-4 text-gray-400 hover:text-red-500 focus:outline-none",onClick:k,children:x?Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:Object(j.jsx)("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})}):Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(j.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),Object(j.jsx)("button",{onClick:function(){return c(!0)},className:"text-gray-400 mr-4 hover:text-red-500 focus:outline-none",title:"Update recipe","aria-label":"Update recipe",children:Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(j.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),Object(j.jsx)("button",{className:"text-gray-400 mr-4 hover:text-red-500 focus:outline-none",title:"Delete recipe","aria-label":"Delete recipe",onClick:N,children:Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(j.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),Object(j.jsx)(Q,{showModal:n,setShowModal:c,children:Object(j.jsx)(ue,{recipe:l,setShowModal:c})}),Object(j.jsx)(Q,{showModal:f,setShowModal:O,children:Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),w(l)},children:[Object(j.jsx)("h2",{className:"text-gray-900 text-xl mb-4 mr-24 font-medium",children:"Add recipe to meal plan"}),Object(j.jsxs)("div",{className:"mb-6",children:[Object(j.jsx)(L,{htmlFor:"date",text:"Pick a date"}),Object(j.jsx)(Z,{id:"date",value:g,handleChange:v})]}),Object(j.jsx)("button",{type:"submit",className:"btn block",children:"Add"})]})})]})]})},be=function(e,t){var n=Object(a.useState)(!1),c=Object(i.a)(n,2),r=c[0],s=c[1],l=Object(a.useState)(!1),o=Object(i.a)(l,2),u=o[0],j=o[1],b=x().user,m=Object(y.h)();return Object(a.useEffect)((function(){t&&(s(!0),function(e,t){return d.collection("recipes").add(Object(N.a)(Object(N.a)({},e),{},{favorite:!1,slug:I()(e.title,{lower:!0})+"-"+Object(B.a)(4),ownerId:t}))}(e,b.uid).then((function(){m("/recipes")})).catch((function(e){s(!1),j(e.message)})))}),[t]),{loading:r,error:u}},xe=n(34),me=n.n(xe),pe=function(e){var t=e.text,n=e.onClick;return Object(j.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded ml-auto relative",role:"alert",children:[Object(j.jsx)("span",{className:"block sm:inline mr-12",children:t}),Object(j.jsx)("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:Object(j.jsxs)("svg",{onClick:function(){return n(null)},className:"fill-current h-6 w-6 text-red-500",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:[Object(j.jsx)("title",{children:"Close"}),Object(j.jsx)("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})]})})]})},he=function(e){var t=e.setRecipe,n=Object(a.useState)(null),c=Object(i.a)(n,2),r=c[0],s=c[1],l=Object(a.useState)(!1),o=Object(i.a)(l,2),d=o[0],u=o[1],b=Object(a.useState)(""),x=Object(i.a)(b,2),m=x[0],p=x[1],h=function(){var e=Object(F.a)(R.a.mark((function e(n){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),m.length){e.next=3;break}return e.abrupt("return");case 3:return s(null),u(!0),e.prev=5,e.next=8,me()("/api?url=".concat(m));case 8:200===(a=e.sent).status&&a.data?t((function(e){var t;return Object(N.a)(Object(N.a)({},e),{},{title:a.data.ogTitle?a.data.ogTitle:"",desc:a.data.ogDescription?a.data.ogDescription:"",image:(null===(t=a.data.ogImage)||void 0===t?void 0:t.url)?a.data.ogImage.url:null,url:m})})):s("Failed to retrieve recipe from link, try again."),u(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),s(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("form",{onSubmit:h,className:"w-full text-left",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)(L,{text:"Recipe link",htmlFor:"url"}),Object(j.jsx)(D,{type:"url",id:"url",value:m,handleChange:p,required:!0})]}),Object(j.jsxs)("div",{className:"flex items-center mt-6",children:[Object(j.jsx)("button",{type:"submit",disabled:d,className:"inline-block btn",children:"Next"}),r&&Object(j.jsx)(pe,{text:r,onClick:s})]})]})},fe=[{value:"bread",option:"Bread"},{value:"breakfast-brunch",option:"Breakfast & Brunch"},{value:"dinner",option:"Dinner"},{value:"dessert",option:"Dessert"},{value:"drink",option:"Drink"},{value:"lunch",option:"Lunch"},{value:"snacks-appetizer",option:"Snacks & Appetizer"}],Oe=[{value:"asian-food",option:"Asian Food"},{value:"italian-food",option:"Italian Food"},{value:"nordic-food",option:"Nordic Food"},{value:"thai-food",option:"Thai Food"},{value:"american-food",option:"American Food"},{value:"indian-food",option:"Indian Food"},{value:"mexican-food",option:"Mexican Food"},{value:"greek-food",option:"Greek Food"},{value:"middle-eastern-food",option:"Middle Eastern Food"}],ge=function(e){var t=e.recipe,n=e.setRecipe,c=e.setSubmit,r=e.loading,s=Object(a.useState)(t.title),l=Object(i.a)(s,2),o=l[0],d=l[1],u=Object(a.useState)(t.desc),b=Object(i.a)(u,2),x=b[0],m=b[1],p=Object(a.useState)(""),h=Object(i.a)(p,2),f=h[0],O=h[1],g=Object(a.useState)(""),v=Object(i.a)(g,2),w=v[0],y=v[1];return Object(j.jsxs)("div",{className:"flex flex-col md:flex-row-reverse",children:[Object(j.jsx)("div",{className:"hidden md:block md:w-1/2 mb-4 md:mb-0",children:Object(j.jsx)("img",{className:"object-cover object-center",alt:t.title,src:t.image?t.image:X})}),Object(j.jsxs)("form",{className:"w-full md:w-1/2 lg:flex-grow md:pr-16",onSubmit:function(e){e.preventDefault(),n((function(e){return Object(N.a)(Object(N.a)({},e),{},{title:o,desc:x,recipeType:f,cuisineType:w})})),c(!0)},children:[Object(j.jsx)("h2",{className:"text-gray-900 text-xl mb-4 font-medium",children:"Add recipe to collection"}),Object(j.jsxs)("div",{className:"mb-4",children:[Object(j.jsx)(L,{htmlFor:"title",text:"Title",required:!0}),Object(j.jsx)(D,{type:"text",id:"title",value:o,handleChange:d,isRequired:!0})]}),Object(j.jsxs)("div",{className:"mb-4",children:[Object(j.jsx)(L,{htmlFor:"desc",text:"Description"}),Object(j.jsx)(le,{type:"text",id:"desc",value:x,handleChange:m,isRequired:!1})]}),Object(j.jsxs)("div",{className:"mb-6 flex",children:[Object(j.jsxs)("div",{className:"mr-2 flex-1",children:[Object(j.jsx)(L,{htmlFor:"recipeType",text:"Recipe type"}),Object(j.jsx)(ee,{options:fe,value:f,id:"recipeType",onChange:O,defaultValue:"Select recipe type"})]}),Object(j.jsxs)("div",{className:"ml-2 flex-1",children:[Object(j.jsx)(L,{htmlFor:"cuisineType",text:"Cuisine type"}),Object(j.jsx)(ee,{options:Oe,value:w,id:"cuisineType",onChange:y,defaultValue:"Select cuisine type"})]})]}),Object(j.jsx)("button",{type:"submit",disabled:r,className:"btn",children:"Save recipe"})]})]})},ve=n.p+"static/media/recipe-hero.0fb058e4.jpg",we=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(i.a)(r,2),l=s[0],o=s[1],d=Object(a.useState)({title:"",desc:"",image:"",url:null,recipeType:"",cuisineType:""}),u=Object(i.a)(d,2),b=u[0],x=u[1],m=be(b,l).loading;return Object(a.useEffect)((function(){b.url&&c(!0)}),[b.url]),Object(j.jsxs)("section",{className:"container mx-auto flex-grow flex flex-col-reverse lg:flex-row items-center px-5 py-16 md:py-24",children:[Object(j.jsxs)("div",{className:"lg:flex-grow lg:w-1/2 lg:pr-24 flex flex-col lg:items-start lg:text-left items-center text-center",children:[Object(j.jsx)("h1",{className:"sm:text-4xl text-3xl mb-4 font-medium text-gray-900",children:"Add new recipe"}),Object(j.jsx)("p",{className:"mb-8 leading-relaxed",children:"Chillwave portland ugh, knausgaard fam polaroid iPhone. Man braid swag typewriter affogato, hella selvage wolf narwhal dreamcatcher."}),Object(j.jsx)(he,{setRecipe:x,loading:m})]}),Object(j.jsx)("div",{className:"w-full lg:w-1/2 mb-12 lg:mb-0",children:Object(j.jsx)("img",{alt:"",src:ve,width:"640",height:"427"})}),Object(j.jsx)(Q,{showModal:n,setShowModal:c,children:Object(j.jsx)(ge,{recipe:b,setRecipe:x,setSubmit:o,loading:m})})]})},ye=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!0),s=Object(i.a)(r,2),l=s[0],o=s[1],u=Object(a.useState)(null),j=Object(i.a)(u,2),b=j[0],m=j[1],p=x().user;return Object(a.useEffect)((function(){var e,t;return e=p.uid,t={next:function(e){if(o(!0),e.empty)c("Oh no! Could not find mealplan.");else{var t=e.docs[0].data().recipes.sort((function(e,t){return J()(e.date).format("X")-J()(t.date).format("X")}));m({id:e.docs[0].id,recipes:t})}o(!1)},error:function(e){c(e.message),o(!1)}},d.collection("meal-plans").where("ownerId","==",e).onSnapshot(t)}),[p.uid]),{error:n,loading:l,mealPlan:b}},Ne=function(e){var t=e.recipe,n=e.onRemoveRecipe,a=J()(t.date).calendar({sameDay:"[Today]",nextDay:"[Tomorrow]",nextWeek:"dddd, MMMM Do",lastDay:"[Yesterday]",lastWeek:"[Last] dddd",sameElse:"dddd, MMMM Do"});return Object(j.jsx)("div",{className:"p-4 w-full md:w-1/2 lg:w-1/3 xl:w-1/4",children:Object(j.jsxs)("div",{className:"h-full flex flex-col border border-gray-200 rounded-xl shadow-sm overflow-hidden",children:[Object(j.jsx)("img",{className:"h-60 w-full object-cover object-center",src:t.image?t.image:X,alt:t.title}),Object(j.jsxs)("div",{className:"p-6 flex-grow flex flex-col",children:[Object(j.jsx)("h3",{className:"tracking-widest text-xs font-medium uppercase text-gray-400 mb-1",children:a}),Object(j.jsx)("h2",{className:"text-lg font-medium text-gray-900 flex-grow",children:t.title}),Object(j.jsxs)("div",{className:"flex items-center justify-between flex-wrap mt-6",children:[Object(j.jsxs)("a",{href:t.url,target:"_blank",rel:"noreferrer",className:"btn btn-outline btn-sm flex items-center",children:["View recipe",Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"ml-2 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:Object(j.jsx)("path",{fillRule:"evenodd",d:"M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),Object(j.jsx)("button",{onClick:function(){return n(t.id)},className:"text-gray-400 hover:text-red-500",title:"Remove from meal plan","aria-label":"Remove from meal plan",children:Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(j.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})]})]})})},ke=function(e){var t=e.mealPlan,n=e.onRemoveRecipe,a=e.onCreateMealPlan;return t?t.recipes.length?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"flex flex-wrap -m-4",children:t.recipes.map((function(e){return Object(j.jsx)(Ne,{recipe:e,onRemoveRecipe:n},e.id)}))}),Object(j.jsx)("div",{className:"text-center mt-24",children:Object(j.jsx)(h.b,{to:"/recipes",className:"inline-block btn",children:"Add more recipes"})})]}):Object(j.jsxs)("div",{className:"text-center",children:[Object(j.jsx)("p",{children:"Your meal plan is empty."}),Object(j.jsx)(h.b,{className:"inline-block mt-5 btn",to:"/recipes",children:"Add recipe"})]}):Object(j.jsxs)("div",{className:"text-center mt-28",children:[Object(j.jsx)("p",{children:"You haven't created a meal plan."}),Object(j.jsx)("button",{className:"inline-block mt-5 btn",onClick:a,children:"Get started"})]})},Se=function(){var e=x().user,t=ye(),n=t.loading,a=t.mealPlan,c=function(){var t=Object(F.a)(R.a.mark((function t(n){var c;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c=a.recipes.filter((function(e){return e.id!==n})),t.next=4,W(c,e.uid);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error("Error updating document: ",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),r=function(){var t=Object(F.a)(R.a.mark((function t(){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n=e.uid,d.collection("meal-plans").add({ownerId:n,recipes:[]});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error("Could not create meal plan: ",t.t0.message);case 8:case"end":return t.stop()}var n}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}();return Object(j.jsxs)("section",{className:"container px-5 py-16 md:py-24 mx-auto",children:[Object(j.jsxs)("header",{className:"flex flex-col text-center w-full mb-20",children:[Object(j.jsx)("h2",{className:"text-xs text-green-500 tracking-widest font-medium mb-1 uppercase",children:"Meal planner"}),Object(j.jsxs)("h1",{className:"sm:text-3xl text-2xl font-medium mb-4 text-gray-900",children:["Hello ",e.displayName,", what are you cooking today?"]}),Object(j.jsx)("p",{className:"lg:w-2/3 mx-auto leading-relaxed text-base",children:"Whatever cardigan tote bag tumblr hexagon brooklyn asymmetrical gentrify, subway tile poke farm-to-table. Franzen you probably haven't heard of them man bun deep jianbing selfies heirloom prism food truck ugh squid celiac humblebrag."})]}),n?Object(j.jsx)(G,{}):Object(j.jsx)(ke,{mealPlan:a,onCreateMealPlan:r,onRemoveRecipe:c})]})},Ce=function(e){var t=e.loading,n=e.user,c=e.notification,r=e.onDeleteAccount,s=e.onUpdateProfile,l=Object(a.useState)(n.displayName),o=Object(i.a)(l,2),d=o[0],u=o[1],b=Object(a.useState)(n.email),x=Object(i.a)(b,2),m=x[0],p=x[1],h=Object(a.useState)(""),f=Object(i.a)(h,2),O=f[0],g=f[1],v=Object(a.useState)(""),w=Object(i.a)(v,2),y=w[0],N=w[1],k=Object(a.useState)(""),S=Object(i.a)(k,2),C=S[0],M=S[1];return Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),s({displayName:d,email:m,password:O,confirm:y,photo:C})},className:"w-full lg:w-2/6 flex flex-col md:mr-auto",children:[Object(j.jsx)("h2",{className:"text-gray-900 text-2xl font-medium mb-5",children:"Update profile"}),Object(j.jsxs)("div",{className:"mb-4 flex",children:[Object(j.jsxs)("div",{className:"w-1/2 mr-4",children:[Object(j.jsx)(L,{htmlFor:"full-name",text:"Name",required:!0}),Object(j.jsx)(D,{type:"text",id:"full-name",value:d,isRequired:!0,handleChange:u})]}),Object(j.jsxs)("div",{className:"w-1/2",children:[Object(j.jsx)(L,{htmlFor:"email",text:"Email",required:!0}),Object(j.jsx)(D,{type:"email",id:"email",value:m,isRequired:!0,handleChange:p})]})]}),Object(j.jsxs)("div",{className:"mb-4 flex",children:[Object(j.jsxs)("div",{className:"w-1/2 mr-4",children:[Object(j.jsx)(L,{htmlFor:"password",text:"Password",required:!1}),Object(j.jsx)(D,{type:"password",id:"password",value:O,isRequired:!1,handleChange:g,autoComplete:"new-password"})]}),Object(j.jsxs)("div",{className:"w-1/2",children:[Object(j.jsx)(L,{htmlFor:"confirm",text:"Confirm password",required:!1}),Object(j.jsx)(D,{type:"password",id:"confirm",value:y,isRequired:!1,handleChange:N,autoComplete:"new-password"})]})]}),Object(j.jsxs)("div",{className:"mb-6",children:[Object(j.jsx)("span",{className:"leading-7 inline-block tracking-widest text-xs font-medium uppercase text-green-500 mb-1",children:"Profile photo"}),Object(j.jsxs)("div",{className:"mt-1 flex items-center",children:[Object(j.jsx)("span",{className:"inline-block h-12 w-12 mr-4 rounded-full overflow-hidden bg-gray-100",children:n.photoURL?Object(j.jsx)("img",{src:n.photoURL,alt:"",width:"48",height:"48"}):Object(j.jsx)("svg",{className:"h-full w-full text-gray-300",fill:"currentColor",viewBox:"0 0 24 24",children:Object(j.jsx)("path",{d:"M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"})})}),Object(j.jsx)("div",{className:"flex flex-grow justify-center p-4 border border-gray-300 border-dashed rounded-md",children:Object(j.jsx)("div",{className:"space-y-1 text-center",children:Object(j.jsx)("div",{className:"flex text-sm",children:Object(j.jsxs)("label",{htmlFor:"image",className:"relative cursor-pointer bg-white rounded-md font-medium text-green-500 hover:text-green-500 focus-within:outline-none focus-within:ring-1 focus-within:ring-offset-2 focus-within:ring-green-500",children:[Object(j.jsx)("span",{children:"Upload a photo"}),Object(j.jsx)("input",{id:"image",type:"file",accept:"image/png, image/jpeg",className:"sr-only",onChange:function(e){return M(e.target.files[0])}})]})})})})]})]}),Object(j.jsxs)("div",{className:"flex flex-col md:flex-row",children:[Object(j.jsx)("button",{type:"submit",disabled:t,className:"inline-block btn",children:"Update account"}),Object(j.jsx)("button",{disabled:t,onClick:function(e){e.preventDefault(),window.confirm("Are you sure you wish to delete account?")&&r()},className:"inline-block mt-4 md:mt-0 md:ml-4 btn danger outline",children:"Delete account"})]}),c&&Object(j.jsx)("p",{className:"text-sm mt-4",children:c})]})},Me=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(null),s=Object(i.a)(r,2),l=s[0],o=s[1],d=x(),u=d.user,b=d.deleteAccount,m=d.updateProfile,p=d.updatePhoto,h=d.updateEmail,f=d.updatePassword,O=function(){var e=Object(F.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(null),c(!0),e.prev=2,e.next=5,b();case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),o(e.t0.message),c(!1);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(F.a)(R.a.mark((function e(t){var n,a,r,s,i,l;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.displayName,a=t.email,r=t.password,s=t.confirm,i=t.photo,o(null),r===s){e.next=4;break}return e.abrupt("return",o("Passwords do not match. Try again."));case 4:if(e.prev=4,c(!0),n===u.displayName){e.next=9;break}return e.next=9,m(n);case 9:if(a===u.email){e.next=12;break}return e.next=12,h(a);case 12:if(!r.length){e.next=15;break}return e.next=15,f(r);case 15:if(!i){e.next=22;break}return e.next=18,H(i);case 18:return l=e.sent,console.log("upload: ",l),e.next=22,p(l);case 22:o("Profile updated."),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(4),o(e.t0.message);case 28:c(!1);case 29:case"end":return e.stop()}}),e,null,[[4,25]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("section",{className:"container mx-auto flex-grow flex flex-col-reverse lg:flex-row items-center px-5 py-16 md:py-24",children:[Object(j.jsx)(Ce,{loading:n,notification:l,user:u,onDeleteAccount:O,onUpdateProfile:g}),Object(j.jsx)("div",{className:"mb-12 lg:mb-0 lg:w-1/2",children:Object(j.jsx)("img",{width:"640",height:"427",alt:"",src:ve})})]})},Re=function(){return Object(j.jsxs)("section",{class:"container mx-auto flex flex-col px-5 py-24 justify-center items-center",children:[Object(j.jsx)("img",{class:"lg:w-2/6 md:w-3/6 w-5/6 mb-10 object-cover object-center",alt:"hero",src:S}),Object(j.jsxs)("div",{class:"w-full md:w-2/3 flex flex-col mb-16 items-center text-center",children:[Object(j.jsx)("h1",{class:"title-font sm:text-4xl text-3xl mb-4 font-medium text-gray-900",children:"Oh no! Page not found."}),Object(j.jsx)("p",{class:"mb-8 leading-relaxed",children:"Kickstarter biodiesel roof party wayfarers cold-pressed. Palo santo live-edge tumeric scenester copper mug flexitarian. Prism vice offal plaid everyday carry. Gluten-free chia VHS squid listicle artisan."})]})]})},Fe=function(){return Object(j.jsx)("section",{className:"container px-5 py-16 md:py-24 mx-auto",children:Object(j.jsxs)("header",{className:"flex flex-col text-center w-full mb-20",children:[Object(j.jsx)("h2",{className:"text-xs text-green-500 tracking-widest font-medium mb-1 uppercase",children:"Grocery List"}),Object(j.jsx)("h1",{className:"sm:text-3xl text-2xl font-medium mb-4 text-gray-900",children:"Grocery List here"}),Object(j.jsx)("p",{className:"lg:w-2/3 mx-auto leading-relaxed text-base",children:"Whatever cardigan tote bag tumblr hexagon brooklyn asymmetrical gentrify, subway tile poke farm-to-table. Franzen you probably haven't heard of them man bun deep jianbing selfies heirloom prism food truck ugh squid celiac humblebrag."})]})})},Te=function(){return Object(j.jsxs)(y.d,{children:[Object(j.jsx)(y.b,{exact:!0,path:"",children:Object(j.jsx)(C,{})}),Object(j.jsx)(y.b,{path:"login",children:Object(j.jsx)(P,{})}),Object(j.jsx)(y.b,{path:"create-account",children:Object(j.jsx)(q,{})}),Object(j.jsxs)(k,{path:"recipes",children:[Object(j.jsx)(y.b,{path:"/",children:Object(j.jsx)(re,{})}),Object(j.jsx)(y.b,{path:"/:slug",children:Object(j.jsx)(je,{})})]}),Object(j.jsx)(k,{path:"add-recipe",children:Object(j.jsx)(we,{})}),Object(j.jsx)(k,{path:"meal-planner",children:Object(j.jsx)(Se,{})}),Object(j.jsx)(k,{path:"account",children:Object(j.jsx)(Me,{})}),Object(j.jsx)(k,{path:"grocery-list",children:Object(j.jsx)(Fe,{})}),Object(j.jsx)(y.b,{path:"*",element:Object(j.jsx)(Re,{})})]})},De=function(){return Object(j.jsxs)(m,{children:[Object(j.jsx)(w,{}),Object(j.jsx)("main",{className:"flex-grow flex flex-col text-gray-600  dark:text-white",children:Object(j.jsx)(Te,{})}),Object(j.jsx)(p,{})]})},Le=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ae(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(h.a,{children:Object(j.jsx)(De,{})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Le?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ae(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Ae(t,e)}))}}()}},[[64,1,2]]]);
//# sourceMappingURL=main.4f2fb284.chunk.js.map