(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{39:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),r=n(32),s=n.n(r),l=(n(39),n(3)),i=n(18);n(40),n(65),n(66);i.a.initializeApp({apiKey:"AIzaSyDI8yMpQ9nCJSPxGAz8-8t7vvTITHTKZ-c",authDomain:"recipe-app-9db22.firebaseapp.com",projectId:"recipe-app-9db22",storageBucket:"recipe-app-9db22.appspot.com",messagingSenderId:"147967816284",appId:"1:147967816284:web:91997fccb8f35252eb2c99"});var o=i.a.auth(),d=i.a.firestore(),u=(i.a.storage(),n(0)),j=Object(a.createContext)(),b=function(){return Object(a.useContext)(j)},m=function(e){var t=e.children,n=Object(a.useState)(!0),c=Object(l.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(null),d=Object(l.a)(i,2),b=d[0],m=d[1];Object(a.useEffect)((function(){return o.onAuthStateChanged((function(e){m(e),s(!1)}))}),[]);var x={createAccount:function(e){var t=e.name,n=e.email,a=e.password;return o.createUserWithEmailAndPassword(n,a).then((function(e){return e.user.updateProfile({displayName:t})}))},deleteAccount:function(){return b.delete()},loading:r,login:function(e,t){return o.signInWithEmailAndPassword(e,t)},logout:function(){return o.signOut()},resetPassword:function(e){return o.sendPasswordResetEmail(e)},updateEmail:function(e){return b.updateEmail(e)},updatePassword:function(e){return b.updatePassword(e)},updateProfile:function(e){return b.updateProfile({displayName:e})},user:b};return Object(u.jsx)(j.Provider,{value:x,children:t})},x=function(){return Object(u.jsx)("footer",{className:"text-gray-600 bg-gray-100",children:Object(u.jsxs)("div",{className:"container px-5 py-6 mx-auto flex items-center justify-between",children:[Object(u.jsxs)("span",{className:"text-sm tracking-wider",children:["\xa9 ",(new Date).getFullYear()," Recipebox"]}),Object(u.jsx)("a",{href:"https://github.com/sofialing","aria-label":"Go to GitHub-page.",children:Object(u.jsx)("svg",{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"w-6 h-6",children:Object(u.jsx)("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})})})]})})},p=n(6),h=function(e){var t=e.toggleMenu;return Object(u.jsx)("div",{className:"md:hidden",id:"mobile-menu",style:t?{display:"initial"}:{display:"none"},children:Object(u.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[Object(u.jsx)(p.c,{to:"/",className:"navlink navlink-mobile",children:"Home"}),Object(u.jsx)(p.c,{to:"/add-recipe",className:"navlink navlink-mobile",children:"Add recipe"}),Object(u.jsx)(p.c,{to:"/recipes",className:"navlink navlink-mobile",children:"Recipe collection"}),Object(u.jsx)(p.c,{to:"/meal-planner",className:"navlink navlink-mobile",children:"Meal Planner"})]})})},f=function(e){var t=e.toggleMenu,n=e.setToggleMenu;return Object(u.jsxs)("button",{type:"button",className:"inline-flex items-center justify-center p-2 rounded-md text-gray-900 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white","aria-controls":"mobile-menu","aria-expanded":t,onClick:function(){n((function(e){return!e}))},children:[Object(u.jsx)("span",{className:"sr-only",children:"Open main menu"}),t?Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"block h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"block h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h8m-8 6h16"})})]})},O=n.p+"static/media/logo.0b4fbbf3.svg",g=n.p+"static/media/logo-wordmark-dark.4e247453.svg",v=function(){return Object(u.jsxs)("div",{className:"flex-1 flex items-center justify-center md:items-stretch md:justify-start",children:[Object(u.jsxs)("div",{className:"flex-shrink-0 flex items-center",children:[Object(u.jsx)(p.b,{to:"/",className:"block xl:hidden",children:Object(u.jsx)("img",{className:"h-9 w-auto",src:O,alt:"RecipeHacker",width:"36",height:"36"})}),Object(u.jsx)(p.b,{to:"/",className:"hidden xl:block",children:Object(u.jsx)("img",{className:"h-9 w-auto",src:g,alt:"RecipeHacker"})})]}),Object(u.jsx)("div",{className:"hidden md:block md:ml-auto",children:Object(u.jsxs)("div",{className:"flex space-x-4",children:[Object(u.jsx)(p.c,{to:"/",className:"navlink",end:!0,children:"Home"}),Object(u.jsx)(p.c,{to:"/add-recipe",className:"navlink",children:"Add recipe"}),Object(u.jsx)(p.c,{to:"/recipes",className:"navlink",children:"Recipe collection"}),Object(u.jsx)(p.c,{to:"/meal-planner",className:"navlink",children:"Meal Planner"})]})})]})},w=n.p+"static/media/avatar.bcdac5d3.jpg",y=function(e){var t=e.toggleDropdown,n=e.setToggleDropdown,a=b().logout;return Object(u.jsxs)("div",{className:"relative",children:[Object(u.jsxs)("button",{type:"button",className:"bg-gray-200 border-2 border-gray-200 flex text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-500 focus:ring-white",id:"user-menu-button","aria-expanded":t,"aria-haspopup":"true",onClick:function(){return n((function(e){return!e}))},children:[Object(u.jsx)("span",{className:"sr-only",children:"Open user menu"}),Object(u.jsx)("img",{className:"h-8 w-8 rounded-full",src:w,alt:""})]}),Object(u.jsxs)("div",{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none ".concat(t?"is-open":"is-closed"),role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",tabIndex:"-1",children:[Object(u.jsx)(p.c,{to:"/account",className:"block px-4 py-2 text-sm text-gray-700",role:"menuitem",tabIndex:"-1",id:"user-menu-item-0",children:"Your profile"}),Object(u.jsx)("button",{onClick:function(){return a()},className:"block px-4 py-2 text-sm text-gray-700",role:"menuitem",tabIndex:"-1",id:"user-menu-item-1",children:"Sign out"})]})]})},N=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(l.a)(r,2),i=s[0],o=s[1];return Object(u.jsxs)("nav",{className:"bg-white shadow-sm",children:[Object(u.jsx)("div",{className:"container mx-auto px-2 sm:px-6 lg:px-8",children:Object(u.jsxs)("div",{className:"relative flex items-center justify-between h-16",children:[Object(u.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center md:hidden",children:Object(u.jsx)(f,{toggleMenu:i,setToggleMenu:o})}),Object(u.jsx)(v,{}),Object(u.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 md:static md:inset-auto md:ml-8 md:pr-0",children:Object(u.jsx)(y,{toggleDropdown:n,setToggleDropdown:c})})]})}),Object(u.jsx)(h,{toggleMenu:i})]})},k=n(7),S=n(9),C=function(e){return b().user?Object(u.jsx)(k.b,Object(S.a)({},e)):Object(u.jsx)(k.a,{to:"/login"})},M=n.p+"static/media/main-hero.24b64013.jpg",F=function(){var e=b(),t=e.user,n=e.logout;return Object(u.jsxs)("section",{className:"container mx-auto flex-grow flex flex-col-reverse lg:flex-row items-center px-5 py-16 md:py-24",children:[Object(u.jsxs)("div",{className:"lg:flex-grow lg:w-1/2 lg:pr-24 flex flex-col lg:items-start lg:text-left items-center text-center",children:[Object(u.jsxs)("h1",{className:"text-3xl sm:text-4xl mb-4 font-medium text-gray-900 dark:text-white",children:["All your favorite",Object(u.jsx)("br",{className:"hidden lg:inline-block"})," recipes in one place"]}),Object(u.jsx)("p",{className:"mb-8 leading-relaxed",children:"CookBook is your very own personal recipe organiser. Save your favourite recipes from websites, magazines, recipe books or simply those from your head, all in one place, accessible on all of your devices, anytime."}),t?Object(u.jsxs)("div",{className:"flex justify-center",children:[Object(u.jsx)(p.b,{to:"add-recipe",className:"btn inline-flex",children:"Add recipe"}),Object(u.jsx)("button",{className:"btn btn-outline ml-4 inline-flex",onClick:function(){return n()},children:"Log out"})]}):Object(u.jsxs)("div",{className:"flex justify-center",children:[Object(u.jsx)(p.b,{to:"create-account",className:"btn inline-flex",children:"Create account"}),Object(u.jsx)(p.b,{to:"login",className:"btn btn-outline ml-4 inline-flex ",children:"Log in"})]})]}),Object(u.jsx)("figure",{className:"mb-12 lg:mb-0 lg:w-1/2",children:Object(u.jsx)("img",{alt:"Vegan meal",width:"640",height:"427",src:M})})]})},R=n(8),T=n.n(R),D=n(11),A=n.p+"static/media/login-hero.3728ec44.jpg",L=function(e){var t=e.type,n=e.id,a=e.value,c=e.handleChange,r=e.isRequired,s=e.autoComplete,l=void 0===s?"on":s;return Object(u.jsx)("input",{type:t,id:n,className:"w-full bg-white rounded border border-gray-300 focus:border-green-500  text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out",autoComplete:l,value:a,required:r,onChange:function(e){return c(e.target.value)}})},P=function(e){var t=e.text,n=e.htmlFor,a=e.required,c=void 0!==a&&a;return Object(u.jsxs)("label",{className:"leading-7 inline-block tracking-widest text-xs font-medium uppercase text-green-500 mb-1",htmlFor:n,children:[t,c&&Object(u.jsx)("sup",{className:"text-red-500",title:"Required",children:"*"})]})},q=function(e){var t=e.onLogin,n=e.loading,c=e.error,r=Object(a.useState)(""),s=Object(l.a)(r,2),i=s[0],o=s[1],d=Object(a.useState)(""),j=Object(l.a)(d,2),b=j[0],m=j[1];return Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(i,b)},className:"w-full lg:w-2/6 flex flex-col md:mr-auto",children:[Object(u.jsx)("h2",{className:"text-gray-900 text-2xl font-medium mb-5",children:"Log in to your account"}),Object(u.jsxs)("div",{className:"mb-4",children:[Object(u.jsx)(P,{htmlFor:"email",text:"Email"}),Object(u.jsx)(L,{type:"email",id:"email",value:i,handleChange:o,isRequired:!0})]}),Object(u.jsxs)("div",{className:"mb-6",children:[Object(u.jsx)(P,{htmlFor:"password",text:"Password"}),Object(u.jsx)(L,{type:"password",id:"password",value:b,handleChange:m,isRequired:!0})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",disabled:n,className:"btn inline-block",children:"Log in"})}),Object(u.jsxs)("p",{className:"text-sm tracking-wide mt-5",children:["New to Recipe Hacker? ",Object(u.jsx)(p.b,{className:"hover:underline",to:"/create-account",children:"Sign up"}),"."]}),c&&Object(u.jsx)("p",{className:"text-xs text-red-500 mt-3",children:c})]})},B=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(null),s=Object(l.a)(r,2),i=s[0],o=s[1],d=b().login,j=Object(k.h)(),m=function(){var e=Object(D.a)(T.a.mark((function e(t,n){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length&&n.length){e.next=2;break}return e.abrupt("return",o("Make sure you have entered both a valid email and a password."));case 2:return o(null),c(!0),e.prev=4,e.next=7,d(t,n);case 7:j("/recipes"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(4),o(e.t0.message),c(!1);case 14:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(u.jsxs)("section",{className:"container mx-auto flex-grow flex flex-col-reverse lg:flex-row items-center px-5 py-16 md:py-24",children:[Object(u.jsx)(q,{onLogin:m,loading:n,error:i}),Object(u.jsx)("div",{className:"mb-12 lg:mb-0 lg:w-1/2",children:Object(u.jsx)("img",{className:"object-cover object-center",alt:"hero",src:A})})]})},E=function(e){var t=e.onCreateAccount,n=e.loading,c=e.error,r=Object(a.useState)(""),s=Object(l.a)(r,2),i=s[0],o=s[1],d=Object(a.useState)(""),j=Object(l.a)(d,2),b=j[0],m=j[1],x=Object(a.useState)(""),h=Object(l.a)(x,2),f=h[0],O=h[1],g=Object(a.useState)(""),v=Object(l.a)(g,2),w=v[0],y=v[1];return Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({name:i,email:b,password:f,confirm:w})},className:"w-full lg:w-2/6 flex flex-col md:mr-auto",children:[Object(u.jsx)("h2",{className:"text-gray-900 text-2xl font-medium mb-5",children:"Sign up for free"}),Object(u.jsxs)("div",{className:"mb-4",children:[Object(u.jsx)(P,{htmlFor:"full-name",text:"Full Name",required:!0}),Object(u.jsx)(L,{type:"text",id:"full-name",value:i,isRequired:!0,handleChange:o})]}),Object(u.jsxs)("div",{className:"mb-4",children:[Object(u.jsx)(P,{htmlFor:"email",text:"Email",required:!0}),Object(u.jsx)(L,{type:"email",id:"email",value:b,isRequired:!0,handleChange:m})]}),Object(u.jsxs)("div",{className:"mb-4",children:[Object(u.jsx)(P,{htmlFor:"password",text:"Password",required:!0}),Object(u.jsx)(L,{type:"password",id:"password",value:f,isRequired:!0,handleChange:O,autoComplete:"new-password"})]}),Object(u.jsxs)("div",{className:"mb-6",children:[Object(u.jsx)(P,{htmlFor:"confirm",text:"Confirm password",required:!0}),Object(u.jsx)(L,{type:"password",id:"confirm",value:w,isRequired:!0,handleChange:y,autoComplete:"new-password"})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",disabled:n,className:"btn inline-block",children:"Create free account"})}),Object(u.jsxs)("p",{className:"text-sm tracking-wide mt-5",children:["Already have an account? ",Object(u.jsx)(p.b,{className:"hover:underline",to:"/login",children:"Log in"}),"."]}),c&&Object(u.jsx)("p",{className:"text-sm text-red-500 mt-3",children:c})]})},z=function(){var e=Object(k.h)(),t=b().createAccount,n=Object(a.useState)(!1),c=Object(l.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(null),o=Object(l.a)(i,2),d=o[0],j=o[1],m=function(){var n=Object(D.a)(T.a.mark((function n(a){return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.password===a.confirm){n.next=2;break}return n.abrupt("return",j("Passwords do not match, please try again."));case 2:return j(null),n.prev=3,s(!0),n.next=7,t(a);case 7:e("/recipes"),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(3),s(!1),j(n.t0.message);case 14:case"end":return n.stop()}}),n,null,[[3,10]])})));return function(e){return n.apply(this,arguments)}}();return Object(u.jsxs)("section",{className:"container mx-auto flex-grow flex flex-col-reverse lg:flex-row items-center px-5 py-16 md:py-24",children:[Object(u.jsx)(E,{onCreateAccount:m,loading:r,error:d}),Object(u.jsx)("div",{className:"mb-12 lg:mb-0 lg:w-1/2",children:Object(u.jsx)("img",{className:"object-cover object-center",alt:"hero",src:A})})]})},I=n(21),W=n(33),V=n.n(W),H=function(e,t,n){return d.collection("meal-plans").doc(e).update({recipes:(a=Object(S.a)(Object(S.a)({},t),{},{id:Object(I.a)(16),date:n}),i.a.firestore.FieldValue.arrayUnion(a))});var a},U=function(e,t){return d.collection("meal-plans").where("ownerId","==",t).get().then((function(t){t.docs[0].ref.update({recipes:e})}))},G=function(e,t){var n=Object(a.useState)(!1),c=Object(l.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(!0),o=Object(l.a)(i,2),u=o[0],j=o[1],m=Object(a.useState)([]),x=Object(l.a)(m,2),p=x[0],h=x[1],f=b().user;return Object(a.useEffect)((function(){var e,t;return e=f.uid,t={next:function(e){j(!0);var t=[];e.forEach((function(e){t.push(Object(S.a)({id:e.id},e.data()))})),h(t),j(!1)},error:function(e){console.log(e.message),s(e.message),j(!1)}},d.collection("recipes").where("ownerId","==",e).orderBy("title").onSnapshot(t)}),[f.uid]),{recipes:p,loading:u,error:r,setRecipes:h}},Y=function(){return Object(u.jsx)("div",{className:"flex flex-col text-center w-full",children:Object(u.jsxs)("div",{className:"spinner mx-auto",role:"status","aria-label":"Page is loading, do not refresh",children:[Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{})]})})},J=n(17),K=n.n(J),X=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(K()().format("YYYY-MM-DD")),s=Object(l.a)(r,2),i=s[0],o=s[1],u=b().user,j=Object(k.h)();return{showDateModal:n,setShowDateModal:c,date:i,setDate:o,onAddToMealPlan:function(){var e=Object(D.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=2;break}return e.abrupt("return");case 2:return e.prev=3,e.next=6,a=u.uid,d.collection("meal-plans").where("ownerId","==",a).get();case 6:if(!(n=e.sent).empty){e.next=10;break}return console.log("Could not find user meal plan."),e.abrupt("return");case 10:return e.next=12,H(n.docs[0].id,t,i);case 12:j("/meal-planner"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),console.error("Error updating document: ",e.t0);case 18:case"end":return e.stop()}var a}),e,null,[[3,15]])})));return function(t){return e.apply(this,arguments)}}()}},_=n.p+"static/media/image-missing.c862008b.jpg",Q=function(e){var t=e.recipe,n=e.setShowDateModal,a=e.setSelectedRecipe;return Object(u.jsx)("div",{className:"p-4 w-full md:w-1/2 lg:w-1/3 xl:w-1/4",children:Object(u.jsxs)("div",{className:"h-full flex flex-col border border-gray-200 rounded-xl shadow-sm overflow-hidden",children:[Object(u.jsx)("img",{className:"h-60 w-full object-cover object-center",src:t.image?t.image:_,alt:t.title}),Object(u.jsxs)("div",{className:"p-6 flex-grow flex flex-col",children:[Object(u.jsxs)("h3",{className:"tracking-widest text-xs font-medium uppercase text-gray-400 mb-1",children:[t.recipeType," \xb7 ",t.cuisineType]}),Object(u.jsx)("h2",{className:"text-lg font-medium text-gray-900 flex-grow",children:t.title}),Object(u.jsxs)("div",{className:"flex items-center flex-wrap mt-6",children:[Object(u.jsxs)(p.b,{to:t.slug,className:"btn btn-outline btn-sm flex items-center",children:["View recipe",Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"ml-2 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:Object(u.jsx)("path",{fillRule:"evenodd",d:"M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),Object(u.jsx)("button",{onClick:function(){a(t),n(!0)},className:"text-gray-400 ml-auto hover:text-green-500 focus:outline-none",children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",title:"Add to meal planner","aria-label":"Add to meal plan",children:Object(u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})]})]})})},Z=function(e){var t=e.children,n=e.showModal,a=e.setShowModal;return n&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none px-24",children:Object(u.jsx)("div",{className:"relative w-full my-6 mx-auto max-w-6xl",children:Object(u.jsxs)("div",{className:"border-0 rounded-lg shadow-lg p-8 relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[Object(u.jsx)("button",{"aria-label":"Close modal",title:"Close modal",className:"absolute rounded-full z-50 p-2 bg-gray-700 text-white right-4 top-4",onClick:function(){return a((function(e){return!e}))},children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),t]})})}),Object(u.jsx)("div",{className:"fixed inset-0 z-40 bg-gray-100 bg-opacity-90"})]})},$=function(e){var t=e.id,n=e.value,a=e.handleChange;return Object(u.jsx)("input",{type:"date",id:t,value:n,className:"w-full bg-white rounded border border-gray-300 focus:border-green-500 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out",onChange:function(e){return a(e.target.value)}})},ee=function(e){var t=e.recipes,n=Object(a.useState)(null),c=Object(l.a)(n,2),r=c[0],s=c[1],i=X(),o=i.showDateModal,d=i.setShowDateModal,j=i.date,b=i.setDate,m=i.onAddToMealPlan;return t.length?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"flex flex-wrap -m-4",children:t.map((function(e){return Object(u.jsx)(Q,{recipe:e,setSelectedRecipe:s,setShowDateModal:d},e.id)}))}),Object(u.jsx)(Z,{showModal:o,setShowModal:d,children:Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m(r)},children:[Object(u.jsx)("h2",{className:"text-gray-900 text-xl mb-4 mr-24 font-medium",children:"Add recipe to meal plan"}),Object(u.jsxs)("div",{className:"relative mb-4",children:[Object(u.jsx)(P,{htmlFor:"date",text:"Pick a date"}),Object(u.jsx)($,{id:"date",value:j,handleChange:b})]}),Object(u.jsx)("button",{type:"submit",className:"btn inline-block",children:"Add"})]})})]}):Object(u.jsx)("div",{className:"text-center mt-28",children:Object(u.jsx)("p",{children:"No recipes to display."})})},te=function(e){var t=e.options,n=e.value,a=e.id,c=e.onChange,r=e.defaultValue,s=void 0===r?"":r;return Object(u.jsxs)("div",{className:"relative",children:[Object(u.jsxs)("select",{className:"block appearance-none w-full bg-white border border-gray-300 text-gray-700 py-3 px-4 pr-8 rounded tracking-wide leading-tight focus:outline-none  focus:border-green-500",id:a,value:n,onChange:function(e){return c(e.target.value)},children:[Object(u.jsx)("option",{value:"",children:s}),t.map((function(e){return Object(u.jsx)("option",{value:e.option,children:e.option},e.value)}))]}),Object(u.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-green-500",children:Object(u.jsx)("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(u.jsx)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})},ne=[{value:"bread",option:"Bread"},{value:"breakfast-brunch",option:"Breakfast & Brunch"},{value:"dinner",option:"Dinner"},{value:"dessert",option:"Dessert"},{value:"drink",option:"Drink"},{value:"lunch",option:"Lunch"},{value:"snacks-appetizer",option:"Snacks & Appetizer"}],ae=[{value:"asian-food",option:"Asian Food"},{value:"italian-food",option:"Italian Food"},{value:"nordic-food",option:"Nordic Food"},{value:"thai-food",option:"Thai Food"},{value:"american-food",option:"American Food"},{value:"indian-food",option:"Indian Food"},{value:"mexican-food",option:"Mexican Food"},{value:"greek-food",option:"Greek Food"},{value:"middle-eastern-food",option:"Middle Eastern Food"}],ce=function(e){var t=e.cuisineType,n=e.setcuisineType,a=e.recipeType,c=e.setRecipeType;return Object(u.jsxs)("form",{className:"flex items-end flex-wrap mb-8 -m-4",children:[Object(u.jsxs)("div",{className:"w-full md:w-1/2 lg:w-1/3 xl:w-1/4 px-4 mb-4 md:mb-0",children:[Object(u.jsx)(P,{text:"Recipe type",htmlFor:"recipeType"}),Object(u.jsx)(te,{options:ne,value:a,id:"recipeType",onChange:c,defaultValue:"Select recipe type"})]}),Object(u.jsxs)("div",{className:"w-full md:w-1/2 lg:w-1/3 xl:w-1/4 px-4 mb-5 md:mb-0",children:[Object(u.jsx)(P,{text:"Cuisine type",htmlFor:"cuisineType"}),Object(u.jsx)(te,{options:ae,value:t,id:"cuisineType",onChange:n,defaultValue:"Select cuisine type"})]}),Object(u.jsx)("div",{className:"px-4",children:Object(u.jsx)("button",{type:"reset",onClick:function(e){e.preventDefault(),c(""),n("")},className:"btn inline-block",children:"Remove filters"})})]})},re=function(e,t,n){var c=Object(a.useState)([]),r=Object(l.a)(c,2),s=r[0],i=r[1];return Object(a.useEffect)((function(){var a;t.length||n.length?(t.length&&!n.length&&(a=e.filter((function(e){return e.recipeType===t}))),!t.length&&n.length&&(a=e.filter((function(e){return e.cuisineType===n}))),t.length&&n.length&&(a=e.filter((function(e){return e.recipeType===t&&e.cuisineType===n}))),i(a)):i(e)}),[e,t,n]),{filteredRecipes:s}},se=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(l.a)(r,2),i=s[0],o=s[1],d=G(n,i),j=d.loading,b=d.recipes,m=re(b,i,n).filteredRecipes,x=Object(k.h)();return Object(u.jsxs)("section",{className:"container px-5 py-16 md:py-24 mx-auto",children:[Object(u.jsxs)("header",{className:"flex flex-col text-center w-full mb-16 lg:mb-20",children:[Object(u.jsx)("h2",{className:"text-xs text-green-500 tracking-widest font-medium mb-1 uppercase",children:"Recipe collection"}),Object(u.jsx)("h1",{className:"sm:text-3xl text-2xl font-medium mb-4 text-gray-900",children:"All your recipes in one place"}),Object(u.jsx)("p",{className:"lg:w-2/3 mx-auto leading-relaxed text-base",children:"CookBook is your very own personal recipe organiser. Save your favourite recipes from websites, magazines, recipe books or simply those from your head, all in one place, accessible on all of your devices, anytime."})]}),Object(u.jsx)(ce,{cuisineType:n,recipeType:i,setcuisineType:c,setRecipeType:o}),j?Object(u.jsx)(Y,{}):Object(u.jsx)(ee,{recipes:m}),b.length?Object(u.jsxs)("footer",{className:"text-center mt-24",children:[Object(u.jsx)(p.b,{className:"btn inline-block",to:"/add-recipe",children:"Add Recipe"}),Object(u.jsx)("button",{className:"btn btn-outline inline-block ml-4",onClick:function(){var e=b[Math.floor(Math.random()*b.length)];x(e.slug)},children:"Recipe Roulette"})]}):""]})},le=function(e){var t=e.title;return Object(u.jsx)("nav",{className:"bg-gray-100",children:Object(u.jsx)("div",{className:"container mx-auto",children:Object(u.jsxs)("ol",{className:"list-reset py-4 pl-4 rounded flex bg-grey-light text-grey text-xs tracking-widest uppercase",children:[Object(u.jsx)("li",{className:"font-medium pr-2",children:Object(u.jsx)(p.b,{to:"/recipes",className:"no-underline",children:"All recipes"})}),Object(u.jsx)("li",{className:"pr-2 text-gray-500",children:" / "}),Object(u.jsx)("li",{className:"pr-2 text-gray-500 ",children:t})]})})})},ie=function(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(!0),i=Object(l.a)(s,2),o=i[0],u=i[1],j=Object(a.useState)([]),m=Object(l.a)(j,2),x=m[0],p=m[1],h=b().user;return Object(a.useEffect)((function(){if(e)return function(e,t){return d.collection("recipes").where("slug","==",e).onSnapshot(t)}(e,{next:function(e){u(!0),e.empty||e.docs[0].data().ownerId!==h.uid?r("Oh no! Could not find recipe."):p(Object(S.a)({id:e.docs[0].id},e.docs[0].data())),u(!1)},error:function(){r("Oh no! Something went wrong, try again."),u(!1)}})}),[h.uid,e]),{recipe:x,error:c,loading:o}},oe=function(e){var t=e.type,n=e.id,a=e.value,c=e.handleChange,r=e.isRequired,s=e.autoComplete,l=void 0===s?"on":s;return Object(u.jsx)("textarea",{type:t,id:n,className:"w-full bg-white rounded border border-gray-300 focus:border-green-500 text-base outline-none text-gray-700 py-2 px-3 h-24 resize-none leading-6 transition-colors duration-200 ease-in-out",autoComplete:l,value:a,required:r,onChange:function(e){return c(e.target.value)}})},de=[{value:"bread",option:"Bread"},{value:"breakfast-brunch",option:"Breakfast & Brunch"},{value:"dinner",option:"Dinner"},{value:"dessert",option:"Dessert"},{value:"drink",option:"Drink"},{value:"lunch",option:"Lunch"},{value:"snacks-appetizer",option:"Snacks & Appetizer"}],ue=[{value:"asian-food",option:"Asian Food"},{value:"italian-food",option:"Italian Food"},{value:"nordic-food",option:"Nordic Food"},{value:"thai-food",option:"Thai Food"},{value:"american-food",option:"American Food"},{value:"indian-food",option:"Indian Food"},{value:"mexican-food",option:"Mexican Food"},{value:"greek-food",option:"Greek Food"},{value:"middle-eastern-food",option:"Middle Eastern Food"}],je=function(e){var t=e.recipe,n=e.setShowModal,c=Object(a.useState)(t.title),r=Object(l.a)(c,2),s=r[0],i=r[1],o=Object(a.useState)(t.desc),j=Object(l.a)(o,2),b=j[0],m=j[1],x=Object(a.useState)(t.recipeType),p=Object(l.a)(x,2),h=p[0],f=p[1],O=Object(a.useState)(t.cuisineType),g=Object(l.a)(O,2),v=g[0],w=g[1],y=function(){var e=Object(D.a)(T.a.mark((function e(a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,c=t.id,r=Object(S.a)(Object(S.a)({},t),{},{title:s,desc:b,recipeType:h,cuisineType:v}),d.collection("recipes").doc(c).update(Object(S.a)({},r));case 4:n(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error("Error updating document: ",e.t0);case 10:case"end":return e.stop()}var c,r}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:"flex flex-col md:flex-row-reverse",children:[Object(u.jsx)("div",{className:"w-full md:w-1/2 mb-4 md:mb-0 overflow-hidden",children:Object(u.jsx)("figure",{className:"aspect-w-3 aspect-h-2",children:Object(u.jsx)("img",{className:"object-cover object-center",alt:t.title,src:t.image?t.image:_})})}),Object(u.jsxs)("form",{className:"w-full md:w-1/2 lg:flex-grow md:pr-16",onSubmit:y,children:[Object(u.jsx)("h2",{className:"text-gray-900 text-xl mb-4 font-medium",children:"Edit recipe"}),Object(u.jsxs)("div",{className:"relative mb-4",children:[Object(u.jsx)(P,{htmlFor:"title",text:"Title"}),Object(u.jsx)(L,{type:"text",id:"title",value:s,handleChange:i,isRequired:!0})]}),Object(u.jsxs)("div",{className:"relative mb-4",children:[Object(u.jsx)(P,{htmlFor:"desc",text:"Description"}),Object(u.jsx)(oe,{type:"text",id:"desc",value:b,handleChange:m,isRequired:!1})]}),Object(u.jsxs)("div",{className:"mb-6 flex",children:[Object(u.jsxs)("div",{className:"mr-2 flex-1",children:[Object(u.jsx)(P,{htmlFor:"recipeType",text:"Recipe type"}),Object(u.jsx)(te,{options:de,value:h,id:"recipeType",onChange:f,defaultValue:"Select recipe type"})]}),Object(u.jsxs)("div",{className:"ml-2 flex-1",children:[Object(u.jsx)(P,{htmlFor:"cuisineType",text:"Cuisine type"}),Object(u.jsx)(te,{options:ue,value:v,id:"cuisineType",onChange:w,defaultValue:"Select cuisine type"})]})]}),Object(u.jsxs)("div",{className:"mt-6",children:[Object(u.jsx)("button",{type:"submit",className:"btn mr-4",children:"Save updates"}),Object(u.jsx)("button",{type:"button",onClick:function(){return n(!1)},className:"inline-block btn btn-outline",children:"Back"})]})]})]})},be=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(k.i)().slug,s=ie(r),i=s.recipe,o=s.loading,j=Object(a.useState)(i.favorite),b=Object(l.a)(j,2),m=b[0],x=b[1],p=Object(k.h)(),h=X(),f=h.showDateModal,O=h.setShowDateModal,g=h.date,v=h.setDate,w=h.onAddToMealPlan,y=function(){var e=Object(D.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t=i.id,d.collection("recipes").doc(t).delete();case 3:p("/recipes"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Error removing document: ",e.t0);case 9:case"end":return e.stop()}var t}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(D.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t=i.id,n=!m,d.collection("recipes").doc(t).update({favorite:n});case 3:x((function(e){return!e})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Error updating document: ",e.t0);case 9:case"end":return e.stop()}var t,n}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return o?Object(u.jsx)("section",{className:"container mx-auto px-5 py-24 flex-grow flex flex-col md:flex-row items-center",children:Object(u.jsx)(Y,{})}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(le,{title:i.title}),Object(u.jsxs)("section",{className:"container mx-auto px-5 py-16 md:py-24 flex-grow flex flex-col md:flex-row items-center",children:[Object(u.jsx)("div",{className:"w-full lg:w-1/2 mb-10 lg:mb-0 overflow-hidden",children:Object(u.jsx)("figure",{className:"aspect-w-3 aspect-h-2",children:Object(u.jsx)("img",{className:"object-cover object-center",alt:i.title,src:i.image?i.image:_})})}),Object(u.jsxs)("div",{className:"lg:flex-grow lg:w-1/2 lg:pl-24 flex flex-col lg:items-start lg:text-left items-center text-center",children:[Object(u.jsxs)("h2",{className:"text-xs text-green-500 tracking-widest font-medium title-font mb-1 uppercase",children:[i.recipeType," \xb7 ",i.cuisineType]}),Object(u.jsx)("h1",{className:"text-3xl sm:text-4xl mb-4 font-medium text-gray-900",children:i.title}),Object(u.jsx)("p",{className:"mb-8 leading-relaxed",children:i.desc}),Object(u.jsxs)("div",{className:"flex items-center",children:[Object(u.jsx)("a",{href:i.url,target:"_blank",rel:"noreferrer",className:"inline-flex btn",children:"View recipe"}),Object(u.jsx)("button",{className:"ml-4 inline-flex btn btn-outline",onClick:function(){return O(!0)},children:"Add to meal plan"})]}),Object(u.jsxs)("div",{className:"flex w-full items-center justify-center lg:justify-start mt-8",children:[Object(u.jsx)("button",{className:"mr-4 text-gray-400 hover:text-red-500 focus:outline-none",onClick:N,children:m?Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:Object(u.jsx)("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})}):Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),Object(u.jsx)("button",{onClick:function(){return c(!0)},className:"text-gray-400 mr-4 hover:text-red-500 focus:outline-none",title:"Update recipe","aria-label":"Update recipe",children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),Object(u.jsx)("button",{className:"text-gray-400 mr-4 hover:text-red-500 focus:outline-none",title:"Delete recipe","aria-label":"Delete recipe",onClick:y,children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),Object(u.jsx)(Z,{showModal:n,setShowModal:c,children:Object(u.jsx)(je,{recipe:i,setShowModal:c})}),Object(u.jsx)(Z,{showModal:f,setShowModal:O,children:Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),w(i)},children:[Object(u.jsx)("h2",{className:"text-gray-900 text-xl mb-4 mr-24 font-medium",children:"Add recipe to meal plan"}),Object(u.jsxs)("div",{className:"relative mb-4",children:[Object(u.jsx)(P,{htmlFor:"date",text:"Pick a date"}),Object(u.jsx)($,{id:"date",value:g,handleChange:v})]}),Object(u.jsx)("button",{type:"submit",className:"btn inline-block",children:"Add"})]})})]})]})},me=function(e,t){var n=Object(a.useState)(!1),c=Object(l.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(!1),o=Object(l.a)(i,2),u=o[0],j=o[1],m=b().user,x=Object(k.h)();return Object(a.useEffect)((function(){t&&(s(!0),function(e,t){return d.collection("recipes").add(Object(S.a)(Object(S.a)({},e),{},{favorite:!1,slug:V()(e.title,{lower:!0})+"-"+Object(I.a)(4),ownerId:t}))}(e,m.uid).then((function(){x("/recipes")})).catch((function(e){s(!1),j(e.message)})))}),[t]),{loading:r,error:u}},xe=n(34),pe=n.n(xe),he=function(e){var t=e.text,n=e.onClick;return Object(u.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded ml-auto relative",role:"alert",children:[Object(u.jsx)("span",{className:"block sm:inline mr-12",children:t}),Object(u.jsx)("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:Object(u.jsxs)("svg",{onClick:function(){return n(null)},className:"fill-current h-6 w-6 text-red-500",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:[Object(u.jsx)("title",{children:"Close"}),Object(u.jsx)("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})]})})]})},fe=function(e){var t=e.setRecipe,n=Object(a.useState)(null),c=Object(l.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(!1),o=Object(l.a)(i,2),d=o[0],j=o[1],b=Object(a.useState)(""),m=Object(l.a)(b,2),x=m[0],p=m[1],h=function(){var e=Object(D.a)(T.a.mark((function e(n){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),x.length){e.next=3;break}return e.abrupt("return");case 3:return s(null),j(!0),e.prev=5,e.next=8,pe()("/api?url=".concat(x));case 8:200===(a=e.sent).status&&a.data?t((function(e){var t;return Object(S.a)(Object(S.a)({},e),{},{title:a.data.ogTitle?a.data.ogTitle:"",desc:a.data.ogDescription?a.data.ogDescription:"",image:(null===(t=a.data.ogImage)||void 0===t?void 0:t.url)?a.data.ogImage.url:null,url:x})})):s("Failed to retrieve recipe from link, try again."),j(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),s(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("form",{onSubmit:h,className:"w-full text-left",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)(P,{text:"Recipe link",htmlFor:"url"}),Object(u.jsx)(L,{type:"url",id:"url",value:x,handleChange:p,required:!0})]}),Object(u.jsxs)("div",{className:"flex items-center mt-6",children:[Object(u.jsx)("button",{type:"submit",disabled:d,className:"inline-block btn",children:"Next"}),r&&Object(u.jsx)(he,{text:r,onClick:s})]})]})},Oe=[{value:"bread",option:"Bread"},{value:"breakfast-brunch",option:"Breakfast & Brunch"},{value:"dinner",option:"Dinner"},{value:"dessert",option:"Dessert"},{value:"drink",option:"Drink"},{value:"lunch",option:"Lunch"},{value:"snacks-appetizer",option:"Snacks & Appetizer"}],ge=[{value:"asian-food",option:"Asian Food"},{value:"italian-food",option:"Italian Food"},{value:"nordic-food",option:"Nordic Food"},{value:"thai-food",option:"Thai Food"},{value:"american-food",option:"American Food"},{value:"indian-food",option:"Indian Food"},{value:"mexican-food",option:"Mexican Food"},{value:"greek-food",option:"Greek Food"},{value:"middle-eastern-food",option:"Middle Eastern Food"}],ve=function(e){var t=e.recipe,n=e.setRecipe,c=e.setSubmit,r=e.loading,s=Object(a.useState)(t.title),i=Object(l.a)(s,2),o=i[0],d=i[1],j=Object(a.useState)(t.desc),b=Object(l.a)(j,2),m=b[0],x=b[1],p=Object(a.useState)(""),h=Object(l.a)(p,2),f=h[0],O=h[1],g=Object(a.useState)(""),v=Object(l.a)(g,2),w=v[0],y=v[1];return Object(u.jsxs)("div",{className:"flex flex-col md:flex-row-reverse",children:[Object(u.jsx)("div",{className:"w-full md:w-1/2 mb-4 md:mb-0",children:Object(u.jsx)("img",{className:"object-cover object-center",alt:t.title,src:t.image?t.image:_})}),Object(u.jsxs)("form",{className:"w-full md:w-1/2 lg:flex-grow md:pr-16",onSubmit:function(e){e.preventDefault(),n((function(e){return Object(S.a)(Object(S.a)({},e),{},{title:o,desc:m,recipeType:f,cuisineType:w})})),c(!0)},children:[Object(u.jsx)("h2",{className:"text-gray-900 text-xl mb-4 font-medium",children:"Add recipe to collection"}),Object(u.jsxs)("div",{className:"mb-4",children:[Object(u.jsx)(P,{htmlFor:"title",text:"Title"}),Object(u.jsx)(L,{type:"text",id:"title",value:o,handleChange:d,isRequired:!0})]}),Object(u.jsxs)("div",{className:"mb-4",children:[Object(u.jsx)(P,{htmlFor:"desc",text:"Description"}),Object(u.jsx)(oe,{type:"text",id:"desc",value:m,handleChange:x,isRequired:!1})]}),Object(u.jsxs)("div",{className:"mb-6 flex",children:[Object(u.jsxs)("div",{className:"mr-2 flex-1",children:[Object(u.jsx)(P,{htmlFor:"recipeType",text:"Recipe type"}),Object(u.jsx)(te,{options:Oe,value:f,id:"recipeType",onChange:O,defaultValue:"Select recipe type"})]}),Object(u.jsxs)("div",{className:"ml-2 flex-1",children:[Object(u.jsx)(P,{htmlFor:"cuisineType",text:"Cuisine type"}),Object(u.jsx)(te,{options:ge,value:w,id:"cuisineType",onChange:y,defaultValue:"Select cuisine type"})]})]}),Object(u.jsx)("button",{type:"submit",disabled:r,className:"btn",children:"Save recipe"})]})]})},we=n.p+"static/media/recipe-hero.0fb058e4.jpg",ye=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(l.a)(r,2),i=s[0],o=s[1],d=Object(a.useState)({title:"",desc:"",image:"",url:null,recipeType:"",cuisineType:""}),j=Object(l.a)(d,2),b=j[0],m=j[1],x=me(b,i).loading;return Object(a.useEffect)((function(){b.url&&c(!0)}),[b.url]),Object(u.jsxs)("section",{className:"container mx-auto flex-grow flex flex-col-reverse lg:flex-row items-center px-5 py-16 md:py-24",children:[Object(u.jsxs)("div",{className:"lg:flex-grow lg:w-1/2 lg:pr-24 flex flex-col lg:items-start lg:text-left items-center text-center",children:[Object(u.jsx)("h1",{className:"sm:text-4xl text-3xl mb-4 font-medium text-gray-900",children:"Add new recipe"}),Object(u.jsx)("p",{className:"mb-8 leading-relaxed",children:"Chillwave portland ugh, knausgaard fam polaroid iPhone. Man braid swag typewriter affogato, hella selvage wolf narwhal dreamcatcher."}),Object(u.jsx)(fe,{setRecipe:m,loading:x})]}),Object(u.jsx)("div",{className:"w-full lg:w-1/2 mb-12 lg:mb-0",children:Object(u.jsx)("img",{className:"object-cover object-center",alt:"hero",src:we})}),Object(u.jsx)(Z,{showModal:n,setShowModal:c,children:Object(u.jsx)(ve,{recipe:b,setRecipe:m,setSubmit:o,loading:x})})]})},Ne=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!0),s=Object(l.a)(r,2),i=s[0],o=s[1],u=Object(a.useState)(null),j=Object(l.a)(u,2),m=j[0],x=j[1],p=b().user;return Object(a.useEffect)((function(){var e,t;return e=p.uid,t={next:function(e){if(o(!0),e.empty)c("Oh no! Could not find mealplan.");else{var t=e.docs[0].data().recipes.sort((function(e,t){return K()(e.date).format("X")-K()(t.date).format("X")}));x({id:e.docs[0].id,recipes:t})}o(!1)},error:function(e){c(e.message),o(!1)}},d.collection("meal-plans").where("ownerId","==",e).onSnapshot(t)}),[p.uid]),{error:n,loading:i,mealPlan:m}},ke=function(e){var t=e.recipe,n=e.onRemoveRecipe,a=K()(t.date).calendar({sameDay:"[Today]",nextDay:"[Tomorrow]",nextWeek:"dddd, MMMM Do",lastDay:"[Yesterday]",lastWeek:"[Last] dddd",sameElse:"dddd, MMMM Do"});return Object(u.jsx)("div",{className:"p-4 w-full md:w-1/2 lg:w-1/3 xl:w-1/4",children:Object(u.jsxs)("div",{className:"h-full flex flex-col border border-gray-200 rounded-xl shadow-sm overflow-hidden",children:[Object(u.jsx)("img",{className:"h-60 w-full object-cover object-center",src:t.image?t.image:_,alt:t.title}),Object(u.jsxs)("div",{className:"p-6 flex-grow flex flex-col",children:[Object(u.jsx)("h3",{className:"tracking-widest text-xs font-medium uppercase text-gray-400 mb-1",children:a}),Object(u.jsx)("h2",{className:"text-lg font-medium text-gray-900 flex-grow",children:t.title}),Object(u.jsxs)("div",{className:"flex items-center justify-between flex-wrap mt-6",children:[Object(u.jsxs)("a",{href:t.url,target:"_blank",rel:"noreferrer",className:"btn btn-outline btn-sm flex items-center",children:["View recipe",Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"ml-2 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:Object(u.jsx)("path",{fillRule:"evenodd",d:"M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),Object(u.jsx)("button",{onClick:function(){return n(t.id)},className:"text-gray-400 hover:text-red-500",title:"Remove from meal plan","aria-label":"Remove from meal plan",children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})]})]})})},Se=function(e){var t=e.mealPlan,n=e.onRemoveRecipe,a=e.onCreateMealPlan;return t?t.recipes.length?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"flex flex-wrap -m-4",children:t.recipes.map((function(e){return Object(u.jsx)(ke,{recipe:e,onRemoveRecipe:n},e.id)}))}),Object(u.jsx)("div",{className:"text-center mt-24",children:Object(u.jsx)(p.b,{to:"/recipes",className:"inline-block btn",children:"Add more recipes"})})]}):Object(u.jsxs)("div",{className:"text-center",children:[Object(u.jsx)("p",{children:"Your meal plan is empty."}),Object(u.jsx)(p.b,{className:"inline-block mt-5 btn",to:"/recipes",children:"Add recipe"})]}):Object(u.jsxs)("div",{className:"text-center mt-28",children:[Object(u.jsx)("p",{children:"You haven't created a meal plan."}),Object(u.jsx)("button",{className:"inline-block mt-5 btn",onClick:a,children:"Get started"})]})},Ce=function(){var e=b().user,t=Ne(),n=t.loading,a=t.mealPlan,c=function(){var t=Object(D.a)(T.a.mark((function t(n){var c;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c=a.recipes.filter((function(e){return e.id!==n})),t.next=4,U(c,e.uid);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error("Error updating document: ",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),r=function(){var t=Object(D.a)(T.a.mark((function t(){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n=e.uid,d.collection("meal-plans").add({ownerId:n,recipes:[]});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error("Could not create meal plan: ",t.t0.message);case 8:case"end":return t.stop()}var n}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}();return Object(u.jsxs)("section",{className:"container px-5 py-16 md:py-24 mx-auto",children:[Object(u.jsxs)("header",{className:"flex flex-col text-center w-full mb-20",children:[Object(u.jsx)("h2",{className:"text-xs text-green-500 tracking-widest font-medium mb-1 uppercase",children:"Meal planner"}),Object(u.jsxs)("h1",{className:"sm:text-3xl text-2xl font-medium mb-4 text-gray-900",children:["Hello ",e.displayName,", what are you cooking today?"]}),Object(u.jsx)("p",{className:"lg:w-2/3 mx-auto leading-relaxed text-base",children:"Whatever cardigan tote bag tumblr hexagon brooklyn asymmetrical gentrify, subway tile poke farm-to-table. Franzen you probably haven't heard of them man bun deep jianbing selfies heirloom prism food truck ugh squid celiac humblebrag."})]}),n?Object(u.jsx)(Y,{}):Object(u.jsx)(Se,{mealPlan:a,onCreateMealPlan:r,onRemoveRecipe:c})]})},Me=function(e){var t=e.loading,n=e.user,c=e.notification,r=e.onDeleteAccount,s=e.onUpdateProfile,i=Object(a.useState)(n.displayName),o=Object(l.a)(i,2),d=o[0],j=o[1],b=Object(a.useState)(n.email),m=Object(l.a)(b,2),x=m[0],p=m[1],h=Object(a.useState)(""),f=Object(l.a)(h,2),O=f[0],g=f[1],v=Object(a.useState)(""),w=Object(l.a)(v,2),y=w[0],N=w[1];return Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),s({displayName:d,email:x,password:O,confirm:y})},className:"w-full lg:w-2/6 flex flex-col md:mr-auto",children:[Object(u.jsx)("h2",{className:"text-gray-900 text-2xl font-medium mb-5",children:"Update account"}),Object(u.jsxs)("div",{className:"mb-4",children:[Object(u.jsx)(P,{htmlFor:"full-name",text:"Full Name",required:!0}),Object(u.jsx)(L,{type:"text",id:"full-name",value:d,isRequired:!0,handleChange:j})]}),Object(u.jsxs)("div",{className:"mb-4",children:[Object(u.jsx)(P,{htmlFor:"email",text:"Email",required:!0}),Object(u.jsx)(L,{type:"email",id:"email",value:x,isRequired:!0,handleChange:p})]}),Object(u.jsxs)("div",{className:"mb-4",children:[Object(u.jsx)(P,{htmlFor:"password",text:"Password",required:!0}),Object(u.jsx)(L,{type:"password",id:"password",value:O,isRequired:!1,handleChange:g,autoComplete:"new-password"})]}),Object(u.jsxs)("div",{className:"mb-6",children:[Object(u.jsx)(P,{htmlFor:"confirm",text:"Confirm password",required:!0}),Object(u.jsx)(L,{type:"password",id:"confirm",value:y,isRequired:!1,handleChange:N,autoComplete:"new-password"})]}),Object(u.jsxs)("div",{className:"flex",children:[Object(u.jsx)("button",{type:"submit",disabled:t,className:"inline-block btn",children:"Update account"}),Object(u.jsx)("button",{disabled:t,onClick:function(e){e.preventDefault(),window.confirm("Are you sure you wish to delete account?")&&r()},className:"inline-block ml-2 btn btn-outline",children:"Delete account"})]}),c&&Object(u.jsx)("p",{className:"text-sm mt-4",children:c})]})},Fe=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(null),s=Object(l.a)(r,2),i=s[0],o=s[1],d=b(),j=d.user,m=d.deleteAccount,x=d.updateProfile,p=d.updateEmail,h=d.updatePassword,f=function(){var e=Object(D.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(null),c(!0),e.prev=2,e.next=5,m();case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),o(e.t0.message),c(!1);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(D.a)(T.a.mark((function e(t){var n,a,r,s;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.displayName,a=t.email,r=t.password,s=t.confirm,o(null),r===s){e.next=4;break}return e.abrupt("return",o("Passwords do not match. Try again."));case 4:if(e.prev=4,c(!0),n===j.displayName){e.next=9;break}return e.next=9,x(n);case 9:if(a===j.email){e.next=12;break}return e.next=12,p(a);case 12:if(!r.length){e.next=15;break}return e.next=15,h(r);case 15:o("Profile updated."),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(4),o(e.t0.message);case 21:c(!1);case 22:case"end":return e.stop()}}),e,null,[[4,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("section",{className:"container mx-auto flex-grow flex flex-col-reverse lg:flex-row items-center px-5 py-16 md:py-24",children:[Object(u.jsx)(Me,{loading:n,notification:i,user:j,onDeleteAccount:f,onUpdateProfile:O}),Object(u.jsx)("div",{className:"mb-12 lg:mb-0 lg:w-1/2",children:Object(u.jsx)("img",{className:"object-cover object-center",alt:"hero",src:we})})]})},Re=function(){return Object(u.jsxs)("section",{class:"container mx-auto flex flex-col px-5 py-24 justify-center items-center",children:[Object(u.jsx)("img",{class:"lg:w-2/6 md:w-3/6 w-5/6 mb-10 object-cover object-center",alt:"hero",src:M}),Object(u.jsxs)("div",{class:"w-full md:w-2/3 flex flex-col mb-16 items-center text-center",children:[Object(u.jsx)("h1",{class:"title-font sm:text-4xl text-3xl mb-4 font-medium text-gray-900",children:"Oh no! Page not found."}),Object(u.jsx)("p",{class:"mb-8 leading-relaxed",children:"Kickstarter biodiesel roof party wayfarers cold-pressed. Palo santo live-edge tumeric scenester copper mug flexitarian. Prism vice offal plaid everyday carry. Gluten-free chia VHS squid listicle artisan."})]})]})},Te=function(){return Object(u.jsx)("section",{className:"container px-5 py-16 md:py-24 mx-auto",children:Object(u.jsxs)("header",{className:"flex flex-col text-center w-full mb-20",children:[Object(u.jsx)("h2",{className:"text-xs text-green-500 tracking-widest font-medium mb-1 uppercase",children:"Grocery List"}),Object(u.jsx)("h1",{className:"sm:text-3xl text-2xl font-medium mb-4 text-gray-900",children:"Grocery List here"}),Object(u.jsx)("p",{className:"lg:w-2/3 mx-auto leading-relaxed text-base",children:"Whatever cardigan tote bag tumblr hexagon brooklyn asymmetrical gentrify, subway tile poke farm-to-table. Franzen you probably haven't heard of them man bun deep jianbing selfies heirloom prism food truck ugh squid celiac humblebrag."})]})})},De=function(){return Object(u.jsxs)(k.d,{children:[Object(u.jsx)(k.b,{exact:!0,path:"",children:Object(u.jsx)(F,{})}),Object(u.jsx)(k.b,{path:"login",children:Object(u.jsx)(B,{})}),Object(u.jsx)(k.b,{path:"create-account",children:Object(u.jsx)(z,{})}),Object(u.jsxs)(C,{path:"recipes",children:[Object(u.jsx)(k.b,{path:"/",children:Object(u.jsx)(se,{})}),Object(u.jsx)(k.b,{path:"/:slug",children:Object(u.jsx)(be,{})})]}),Object(u.jsx)(C,{path:"add-recipe",children:Object(u.jsx)(ye,{})}),Object(u.jsx)(C,{path:"meal-planner",children:Object(u.jsx)(Ce,{})}),Object(u.jsx)(C,{path:"account",children:Object(u.jsx)(Fe,{})}),Object(u.jsx)(C,{path:"grocery-list",children:Object(u.jsx)(Te,{})}),Object(u.jsx)(k.b,{path:"*",element:Object(u.jsx)(Re,{})})]})},Ae=function(){return Object(u.jsxs)(m,{children:[Object(u.jsx)(N,{}),Object(u.jsx)("main",{className:"flex-grow flex flex-col text-gray-600  dark:text-white",children:Object(u.jsx)(De,{})}),Object(u.jsx)(x,{})]})},Le=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Pe(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}s.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(p.a,{children:Object(u.jsx)(Ae,{})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Le?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Pe(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Pe(t,e)}))}}()}},[[64,1,2]]]);
//# sourceMappingURL=main.b855d3bd.chunk.js.map